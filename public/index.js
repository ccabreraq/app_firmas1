!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFAnnotate=t():e.PDFAnnotate=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,a,l;if(u(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,l=s,console&&console.warn&&console.warn(l)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function m(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{var u=s.length,c=v(s,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},l.prototype.addListener=function(e,t){return d(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return d(this,e,t,!0)},l.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,o,i,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?o(e):n}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=function(){function e(){a(this,e)}return s(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=!0,a=!1,l=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c.apply(this,r)}}catch(e){a=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw l}}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++){var o=n[r];if(o===t){n.splice(r,1);break}}return this}}]),e}(),c=function(e){function t(e,i){var l,s,u;if(a(this,t),(l=n(this,r(t).call(this))).element=e,l.version=t.version,l.defaultOptions.previewTemplate=l.defaultOptions.previewTemplate.replace(/\n*/g,""),l.clickableElements=[],l.listeners=[],l.files=[],"string"==typeof l.element&&(l.element=document.querySelector(l.element)),!l.element||null==l.element.nodeType)throw new Error("Invalid dropzone element.");if(l.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(o(l)),l.element.dropzone=o(l);var c=null!=(u=t.optionsForElement(l.element))?u:{};if(l.options=t.extend({},l.defaultOptions,c,null!=i?i:{}),l.options.forceFallback||!t.isBrowserSupported())return n(l,l.options.fallback.call(o(l)));if(null==l.options.url&&(l.options.url=l.element.getAttribute("action")),!l.options.url)throw new Error("No URL provided.");if(l.options.acceptedFiles&&l.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(l.options.uploadMultiple&&l.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return l.options.acceptedMimeTypes&&(l.options.acceptedFiles=l.options.acceptedMimeTypes,delete l.options.acceptedMimeTypes),null!=l.options.renameFilename&&(l.options.renameFile=function(e){return l.options.renameFilename.call(o(l),e.name,e)}),l.options.method=l.options.method.toUpperCase(),(s=l.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==l.options.previewsContainer&&(l.options.previewsContainer?l.previewsContainer=t.getElement(l.options.previewsContainer,"previewsContainer"):l.previewsContainer=l.element),l.options.clickable&&(!0===l.options.clickable?l.clickableElements=[l.element]:l.clickableElements=t.getElements(l.options.clickable,"clickable")),l.init(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),s(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=u,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var n=!0,r=!1,o=void 0;try{for(var i,a=this.element.getElementsByTagName("div")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(/(^| )dz-message($| )/.test(l.className)){e=l,l.className="dz-message";break}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var s=e.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height;null==t&&null==n?(t=o.srcWidth,n=o.srcHeight):null==t?t=n*i:null==n&&(n=t/i);var a=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>t||o.srcHeight>n)if("crop"===r)i>a?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==r)throw new Error("Unknown resizeMethod '".concat(r,"'"));i>a?n=t/i:t=n*i}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var r=!0,o=!1,i=void 0;try{for(var a,l=e.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;s.textContent=e.name}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}var u=!0,c=!1,d=void 0;try{for(var p,f=e.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)(s=p.value).innerHTML=this.filesize(e.size)}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var m=function(r){return r.preventDefault(),r.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,(function(){return n.removeFile(e)})):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,(function(){return n.removeFile(e)})):n.removeFile(e)},h=!0,v=!1,y=void 0;try{for(var g,b=e.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){g.value.addEventListener("click",m)}}catch(e){v=!0,y=e}finally{try{h||null==b.return||b.return()}finally{if(v)throw y}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n=!0,r=!1,o=void 0;try{for(var i,a=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.alt=e.name,l.src=t}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);var n=!0,r=!1,o=void 0;try{for(var i,a=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){i.value.textContent=t}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var r=!0,o=!1,i=void 0;try{for(var a,l=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;"PROGRESS"===s.nodeName?s.value=t:s.style.width="".concat(t,"%")}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];for(var l in a){var s=a[l];e[l]=s}}return e}}]),s(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===t.UPLOADING||e.status===t.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function n(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var t=e.hiddenFileInput.files;if(t.length){var r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;e.addFile(s)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}return e.emit("addedfiles",t),n()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var n=!0,r=!1,o=void 0;try{for(var i,a=this.events[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;this.on(l,this.options[l])}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var s=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return s(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",s(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return s(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(n){return e.listeners.push({element:n,events:{click:function(r){return(n!==e.element||r.target===e.element||t.elementInside(r.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var r=!0,o=!1,i=void 0;try{for(var a,l=this.getActiveFiles()[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;t+=s.upload.bytesSent,n+=s.upload.total}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,n;if(e=this.getExistingFallback())return e;var r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>".concat(this.options.dictFallbackText,"</p>")),r+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var o=t.createElement(r);return"FORM"!==this.element.tagName?(n=t.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:o}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(/(^| )fallback($| )/.test(a.className))return a}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}},t=0,n=["div","form"];t<n.length;t++){var r,o=n[t];if(r=e(this.element.getElementsByTagName(o)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.addEventListener(n,r,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.removeEventListener(n,r,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],o=0;o<r.length;o++){var i=r[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),n=i;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var r=e.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,n=function(e){return e.items},null!=t?n(t):void 0)){var t,n;this.emit("paste",e);var r=e.clipboardData.items;return r.length?this._addFilesFromItems(r):void 0}}},{key:"handleFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.addFile(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s,u=a.value;null!=u.webkitGetAsEntry&&(s=u.webkitGetAsEntry())?s.isFile?n.push(t.addFile(u.getAsFile())):s.isDirectory?n.push(t._addFilesFromDirectory(s,s.name)):n.push(void 0):null!=u.getAsFile&&(null==u.kind||"file"===u.kind)?n.push(t.addFile(u.getAsFile())):n.push(void 0)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,r=e.createReader(),o=function(e){return t=console,n="log",r=function(t){return t.log(e)},null!=t&&"function"==typeof t[n]?r(t,n):void 0;var t,n,r};return function e(){return r.readEntries((function(r){if(r.length>0){var o=!0,i=!1,a=void 0;try{for(var l,s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.isFile?u.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)})):u.isDirectory&&n._addFilesFromDirectory(u,"".concat(t,"/").concat(u.name))}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}e()}return null}),o)}()}},{key:"accept",value:function(e,n){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var n=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(t){t?(e.accepted=!1,n._errorProcessing([e],t)):(e.accepted=!0,n.options.autoQueue&&n.enqueueFile(e)),n._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.enqueueFile(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}},{key:"enqueueFile",value:function(e){var n=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return n.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=d(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var n=!0,r=!1,o=void 0;try{for(var i,a=this.files.slice()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;(l.status!==t.UPLOADING||e)&&this.removeFile(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"resizeImage",value:function(e,n,r,o,i){var a=this;return this.createThumbnail(e,n,r,o,!0,(function(n,r){if(null==r)return i(e);var o=a.options.resizeMimeType;null==o&&(o=e.type);var l=r.toDataURL(o,a.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(l=m.restore(e.dataURL,l)),i(t.dataURItoBlob(l))}))}},{key:"createThumbnail",value:function(e,t,n,r,o,i){var a=this,l=new FileReader;l.onload=function(){e.dataURL=l.result,"image/svg+xml"!==e.type?a.createThumbnailFromUrl(e,t,n,r,o,i):null!=i&&i(l.result)},l.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,r){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),i){var a=function(t){o.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,a,r)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,r,o,i,a){var l=this,s=document.createElement("img");return a&&(s.crossOrigin=a),s.onload=function(){var a=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(e){return EXIF.getData(s,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),a((function(o){e.width=s.width,e.height=s.height;var a=l.options.resize.call(l,e,t,n,r),u=document.createElement("canvas"),c=u.getContext("2d");switch(u.width=a.trgWidth,u.height=a.trgHeight,o>4&&(u.width=a.trgHeight,u.height=a.trgWidth),o){case 2:c.translate(u.width,0),c.scale(-1,1);break;case 3:c.translate(u.width,u.height),c.rotate(Math.PI);break;case 4:c.translate(0,u.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-u.width);break;case 7:c.rotate(.5*Math.PI),c.translate(u.height,-u.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-u.height,0)}f(c,s,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var d=u.toDataURL("image/png");if(null!=i)return i(d,u)}))},null!=i&&(s.onerror=i),s.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;n<e;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.processing=!0,l.status=t.UPLOADING,this.emit("processing",l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){var n=this._getFilesWithXhr(e.xhr),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.status=t.CANCELED}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}void 0!==e.xhr&&e.xhr.abort();var s=!0,u=!1,c=void 0;try{for(var d,p=n[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;this.emit("canceled",f)}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var n=this;this._transformFiles(e,(function(r){if(n.options.chunking){var o=r[0];e[0].upload.chunked=n.options.chunking&&(n.options.forceChunking||o.size>n.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(o.size/n.options.chunkSize)}if(e[0].upload.chunked){var i=e[0],a=r[0];i.upload.chunks=[];var l=function(){for(var r=0;void 0!==i.upload.chunks[r];)r++;if(!(r>=i.upload.totalChunkCount)){0;var o=r*n.options.chunkSize,l=Math.min(o+n.options.chunkSize,i.size),s={name:n._getParamName(0),data:a.webkitSlice?a.webkitSlice(o,l):a.slice(o,l),filename:i.upload.filename,chunkIndex:r};i.upload.chunks[r]={file:i,index:r,dataBlock:s,status:t.UPLOADING,progress:0,retries:0},n._uploadData(e,[s])}};if(i.upload.finishedChunkUpload=function(r){var o=!0;r.status=t.SUCCESS,r.dataBlock=null,r.xhr=null;for(var a=0;a<i.upload.totalChunkCount;a++){if(void 0===i.upload.chunks[a])return l();i.upload.chunks[a].status!==t.SUCCESS&&(o=!1)}o&&n.options.chunksUploaded(i,(function(){n._finished(e,"",null)}))},n.options.parallelChunkUploads)for(var s=0;s<i.upload.totalChunkCount;s++)l();else l()}else{for(var u=[],c=0;c<e.length;c++)u[c]={name:n._getParamName(c),data:r[c],filename:e[c].upload.filename};n._uploadData(e,u)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,n){var r=this,o=new XMLHttpRequest,i=!0,a=!1,l=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.xhr=o}}catch(e){a=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw l}}e[0].upload.chunked&&(e[0].upload.chunks[n[0].chunkIndex].xhr=o);var c=this.resolveOption(this.options.method,e),d=this.resolveOption(this.options.url,e);o.open(c,d,!0),o.timeout=this.resolveOption(this.options.timeout,e),o.withCredentials=!!this.options.withCredentials,o.onload=function(t){r._finishedUploading(e,o,t)},o.ontimeout=function(){r._handleUploadError(e,o,"Request timedout after ".concat(r.options.timeout," seconds"))},o.onerror=function(){r._handleUploadError(e,o)},(null!=o.upload?o.upload:o).onprogress=function(t){return r._updateFilesUploadProgress(e,o,t)};var p={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var f in this.options.headers&&t.extend(p,this.options.headers),p){var m=p[f];m&&o.setRequestHeader(f,m)}var h=new FormData;if(this.options.params){var v=this.options.params;for(var y in"function"==typeof v&&(v=v.call(this,e,o,e[0].upload.chunked?this._getChunk(e[0],o):null)),v){var g=v[y];h.append(y,g)}}var b=!0,w=!1,_=void 0;try{for(var x,k=e[Symbol.iterator]();!(b=(x=k.next()).done);b=!0){var E=x.value;this.emit("sending",E,o,h)}}catch(e){w=!0,_=e}finally{try{b||null==k.return||k.return()}finally{if(w)throw _}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,o,h),this._addFormElementData(h);for(var S=0;S<n.length;S++){var C=n[S];h.append(C.name,C.data,C.filename)}this.submitRequest(o,h,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,r=[],o=0,i=function(i){n.options.transformFile.call(n,e[i],(function(n){r[i]=n,++o===e.length&&t(r)}))},a=0;a<e.length;a++)i(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t=!0,n=!1,r=void 0;try{for(var o,i=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=a.getAttribute("name"),s=a.getAttribute("type");if(s&&(s=s.toLowerCase()),null!=l)if("SELECT"===a.tagName&&a.hasAttribute("multiple")){var u=!0,c=!1,d=void 0;try{for(var p,f=a.options[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var m=p.value;m.selected&&e.append(l,m.value)}}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}}else(!s||"checkbox"!==s&&"radio"!==s||a.checked)&&e.append(l,a.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var r;if(void 0!==n){if(r=100*n.loaded/n.total,e[0].upload.chunked){var o=e[0],i=this._getChunk(o,t);i.progress=r,i.total=n.total,i.bytesSent=n.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)void 0!==o.upload.chunks[a]&&void 0!==o.upload.chunks[a].progress&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var l=!0,s=!1,u=void 0;try{for(var c,d=e[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var p=c.value;p.upload.progress=r,p.upload.total=n.total,p.upload.bytesSent=n.loaded}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}}var f=!0,m=!1,h=void 0;try{for(var v,y=e[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var g=v.value;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}catch(e){m=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(m)throw h}}}else{var b=!0;r=100;var w=!0,_=!1,x=void 0;try{for(var k,E=e[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){var S=k.value;100===S.upload.progress&&S.upload.bytesSent===S.upload.total||(b=!1),S.upload.progress=r,S.upload.bytesSent=S.upload.total}}catch(e){_=!0,x=e}finally{try{w||null==E.return||E.return()}finally{if(_)throw x}}if(b)return;var C=!0,A=!1,j=void 0;try{for(var L,F=e[Symbol.iterator]();!(C=(L=F.next()).done);C=!0){var I=L.value;this.emit("uploadprogress",I,r,I.upload.bytesSent)}}catch(e){A=!0,j=e}finally{try{C||null==F.return||F.return()}finally{if(A)throw j}}}}},{key:"_finishedUploading",value:function(e,n,r){var o;if(e[0].status!==t.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(o=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(e){r=e,o="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=n.status&&n.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],n)):this._finished(e,o,r):this._handleUploadError(e,n,o)}}},{key:"_handleUploadError",value:function(e,n,r){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(e[0],n);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[o.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,r||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,n,r){var o=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.status=t.SUCCESS,this.emit("success",u,n,r),this.emit("complete",u)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,n,r){var o=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.status=t.ERROR,this.emit("error",u,n,r),this.emit("complete",u)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),t}(u);c.initClass(),c.version="5.7.1",c.options={},c.optionsForElement=function(e){return e.getAttribute("id")?c.options[p(e.getAttribute("id"))]:void 0},c.instances=[],c.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},c.autoDiscover=!0,c.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;/(^| )dropzone($| )/.test(s.className)?n.push(e.push(s)):n.push(void 0)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;!1!==c.optionsForElement(l)?t.push(new c(l)):t.push(void 0)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}()},c.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],c.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var t=!0,n=!1,r=void 0;try{for(var o,i=c.blacklistedBrowsers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.test(navigator.userAgent)&&(e=!1)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else e=!1;else e=!1;return e},c.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0,a=t.length,l=0<=a;l?i<=a:i>=a;l?i++:i--)o[i]=t.charCodeAt(i);return new Blob([r],{type:n})};var d=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},p=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};c.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},c.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},c.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},c.getElements=function(e,t){var n,r;if(e instanceof Array){r=[];try{var o=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)n=l.value,r.push(this.getElement(n,t))}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}}catch(e){r=null}}else if("string"==typeof e){r=[];var u=!0,c=!1,d=void 0;try{for(var p,f=document.querySelectorAll(e)[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)n=p.value,r.push(n)}catch(e){c=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return r},c.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},c.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n=e.type,r=n.replace(/\/.*$/,""),o=!0,i=!1,a=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;if("."===(u=u.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(u.toLowerCase(),e.name.length-u.length))return!0}else if(/\/\*$/.test(u)){if(r===u.replace(/\/.*$/,""))return!0}else if(n===u)return!0}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new c(this,e)}))}),null!==e?e.exports=c:window.Dropzone=c,c.ADDED="added",c.QUEUED="queued",c.ACCEPTED=c.QUEUED,c.UPLOADING="uploading",c.PROCESSING=c.UPLOADING,c.CANCELED="canceled",c.ERROR="error",c.SUCCESS="success";var f=function(e,t,n,r,o,i,a,l,s,u){var c=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var r=n.getContext("2d");r.drawImage(e,0,0);for(var o=r.getImageData(1,0,1,t).data,i=0,a=t,l=t;l>i;){0===o[4*(l-1)+3]?a=l:i=l,l=a+i>>1}var s=l/t;return 0===s?1:s}(t);return e.drawImage(t,n,r,o,i,a,l,s,u/c)},m=function(){function e(){a(this,e)}return s(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,r=void 0,o="",i=void 0,a=void 0,l=void 0,s="",u=0;i=(n=e[u++])>>2,a=(3&n)<<4|(r=e[u++])>>4,l=(15&r)<<2|(o=e[u++])>>6,s=63&o,isNaN(r)?l=s=64:isNaN(o)&&(s=64),t=t+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(s),n=r=o="",i=a=l=s="",u<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),o=this.exifManipulation(t,r);return"data:image/jpeg;base64,".concat(this.encode64(o))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),o=r.indexOf(255,3),i=r.slice(0,o),a=r.slice(o),l=i;return l=(l=l.concat(t)).concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,r="",o=void 0,i=void 0,a="",l=0,s=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(l++))<<2|(o=this.KEY_STR.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(i=this.KEY_STR.indexOf(e.charAt(l++)))>>2,r=(3&i)<<6|(a=this.KEY_STR.indexOf(e.charAt(l++))),s.push(t),64!==i&&s.push(n),64!==a&&s.push(r),t=n=r="",o=i=a="",l<e.length;);return s}}]),e}();m.initClass();c._autoDiscoverFunction=function(){if(c.autoDiscover)return c.discover()},function(e,t){var n=!1,r=!0,o=e.document,i=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",s=o.addEventListener?"":"on",u=function r(i){if("readystatechange"!==i.type||"complete"===o.readyState)return("load"===i.type?e:o)[l](s+i.type,r,!1),!n&&(n=!0)?t.call(e,i.type||i):void 0};if("complete"!==o.readyState){if(o.createEventObject&&i.doScroll){try{r=!e.frameElement}catch(e){}r&&function e(){try{i.doScroll("left")}catch(t){return void setTimeout(e,50)}return u("poll")}()}o[a](s+"DOMContentLoaded",u,!1),o[a](s+"readystatechange",u,!1),e[a](s+"load",u,!1)}}(window,c._autoDiscoverFunction)}).call(this,n(3)(e))},function(module,exports,__webpack_require__){var factory;window,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(/*! ./sass/index.scss */ "./src/sass/index.scss");\n\nvar _init = __webpack_require__(/*! ./js/init */ "./src/js/init.js");\n\nvar _init2 = _interopRequireDefault(_init);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar printJS = _init2.default.init;\n\nif (typeof window !== \'undefined\') {\n  window.printJS = printJS;\n}\n\nexports.default = printJS;\n\n//# sourceURL=webpack://printJS/./src/index.js?')},"./src/js/browser.js":
/*!***************************!*\
  !*** ./src/js/browser.js ***!
  \***************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Browser = {\n  // Firefox 1.0+\n  isFirefox: function isFirefox() {\n    return typeof InstallTrigger !== 'undefined';\n  },\n  // Internet Explorer 6-11\n  isIE: function isIE() {\n    return navigator.userAgent.indexOf('MSIE') !== -1 || !!document.documentMode;\n  },\n  // Edge 20+\n  isEdge: function isEdge() {\n    return !Browser.isIE() && !!window.StyleMedia;\n  },\n  // Chrome 1+\n  isChrome: function isChrome() {\n    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\n    return !!context.chrome;\n  },\n  // At least Safari 3+: \"[object HTMLElementConstructor]\"\n  isSafari: function isSafari() {\n    return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0 || navigator.userAgent.toLowerCase().indexOf('safari') !== -1;\n  },\n  // IOS Chrome\n  isIOSChrome: function isIOSChrome() {\n    return navigator.userAgent.toLowerCase().indexOf('crios') !== -1;\n  }\n};\n\nexports.default = Browser;\n\n//# sourceURL=webpack://printJS/./src/js/browser.js?")},"./src/js/functions.js":
/*!*****************************!*\
  !*** ./src/js/functions.js ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.addWrapper = addWrapper;\nexports.capitalizePrint = capitalizePrint;\nexports.collectStyles = collectStyles;\nexports.addHeader = addHeader;\nexports.cleanUp = cleanUp;\nexports.isRawHTML = isRawHTML;\n\nvar _modal = __webpack_require__(/*! ./modal */ \"./src/js/modal.js\");\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction addWrapper(htmlData, params) {\n  var bodyStyle = 'font-family:' + params.font + ' !important; font-size: ' + params.font_size + ' !important; width:100%;';\n  return '<div style=\"' + bodyStyle + '\">' + htmlData + '</div>';\n}\n\nfunction capitalizePrint(obj) {\n  return obj.charAt(0).toUpperCase() + obj.slice(1);\n}\n\nfunction collectStyles(element, params) {\n  var win = document.defaultView || window;\n\n  // String variable to hold styling for each element\n  var elementStyle = '';\n\n  // Loop over computed styles\n  var styles = win.getComputedStyle(element, '');\n\n  Object.keys(styles).map(function (key) {\n    // Check if style should be processed\n    if (params.targetStyles.indexOf('*') !== -1 || params.targetStyle.indexOf(styles[key]) !== -1 || targetStylesMatch(params.targetStyles, styles[key])) {\n      if (styles.getPropertyValue(styles[key])) elementStyle += styles[key] + ':' + styles.getPropertyValue(styles[key]) + ';';\n    }\n  });\n\n  // Print friendly defaults (deprecated)\n  elementStyle += 'max-width: ' + params.maxWidth + 'px !important;' + params.font_size + ' !important;';\n\n  return elementStyle;\n}\n\nfunction targetStylesMatch(styles, value) {\n  for (var i = 0; i < styles.length; i++) {\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.indexOf(styles[i]) !== -1) return true;\n  }\n  return false;\n}\n\nfunction addHeader(printElement, params) {\n  // Create the header container div\n  var headerContainer = document.createElement('div');\n\n  // Check if the header is text or raw html\n  if (isRawHTML(params.header)) {\n    headerContainer.innerHTML = params.header;\n  } else {\n    // Create header element\n    var headerElement = document.createElement('h1');\n\n    // Create header text node\n    var headerNode = document.createTextNode(params.header);\n\n    // Build and style\n    headerElement.appendChild(headerNode);\n    headerElement.setAttribute('style', params.headerStyle);\n    headerContainer.appendChild(headerElement);\n  }\n\n  printElement.insertBefore(headerContainer, printElement.childNodes[0]);\n}\n\nfunction cleanUp(params) {\n  // If we are showing a feedback message to user, remove it\n  if (params.showModal) _modal2.default.close();\n\n  // Check for a finished loading hook function\n  if (params.onLoadingEnd) params.onLoadingEnd();\n\n  // If preloading pdf files, clean blob url\n  if (params.showModal || params.onLoadingStart) window.URL.revokeObjectURL(params.printable);\n\n  // If a onPrintDialogClose callback is given, execute it\n  if (params.onPrintDialogClose) {\n    var event = 'mouseover';\n\n    if (_browser2.default.isChrome() || _browser2.default.isFirefox()) {\n      // Ps.: Firefox will require an extra click in the document to fire the focus event.\n      event = 'focus';\n    }\n    var handler = function handler() {\n      // Make sure the event only happens once.\n      window.removeEventListener(event, handler);\n\n      params.onPrintDialogClose();\n    };\n\n    window.addEventListener(event, handler);\n  }\n}\n\nfunction isRawHTML(raw) {\n  var regexHtml = new RegExp('<([A-Za-z][A-Za-z0-9]*)\\\\b[^>]*>(.*?)</\\\\1>');\n  return regexHtml.test(raw);\n}\n\n//# sourceURL=webpack://printJS/./src/js/functions.js?")},"./src/js/html.js":
/*!************************!*\
  !*** ./src/js/html.js ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Get the DOM printable element\n    var printElement = document.getElementById(params.printable);\n\n    // Check if the element exists\n    if (!printElement) {\n      window.console.error('Invalid HTML element id: ' + params.printable);\n      return;\n    }\n\n    // Clone the target element including its children (if available)\n    params.printableElement = cloneElement(printElement, params);\n\n    // Add header\n    if (params.header) {\n      (0, _functions.addHeader)(params.printableElement, params);\n    }\n\n    // Print html element contents\n    _print2.default.send(params, printFrame);\n  }\n};\n\n\nfunction cloneElement(element, params) {\n  // Clone the main node (if not already inside the recursion process)\n  var clone = element.cloneNode();\n\n  // Loop over and process the children elements / nodes (including text nodes)\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = element.childNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      // Check if we are skiping the current element\n      if (params.ignoreElements.indexOf(child.id) !== -1) {\n        continue;\n      }\n\n      // Clone the child element\n      var clonedChild = cloneElement(child, params);\n\n      // Attach the cloned child to the cloned parent node\n      clone.appendChild(clonedChild);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  console.log(element.nodeType);\n  // Get all styling for print element (for nodes of type element only)\n  if (params.scanStyles && element.nodeType === 1) {\n    clone.setAttribute('style', (0, _functions.collectStyles)(element, params));\n  }\n\n  // Check if the element needs any state processing (copy user input data)\n  switch (element.tagName) {\n    case 'SELECT':\n      // Copy the current selection value to its clone\n      clone.value = element.value;\n      break;\n    case 'CANVAS':\n      // Copy the canvas content to its clone\n      clone.getContext('2d').drawImage(element, 0, 0);\n      break;\n  }\n\n  return clone;\n}\n\n//# sourceURL=webpack://printJS/./src/js/html.js?")},"./src/js/image.js":
/*!*************************!*\
  !*** ./src/js/image.js ***!
  \*************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we are printing one image or multiple images\n    if (params.printable.constructor !== Array) {\n      // Create array with one image\n      params.printable = [params.printable];\n    }\n\n    // Create printable element (container)\n    params.printableElement = document.createElement('div');\n\n    // Create all image elements and append them to the printable container\n    params.printable.forEach(function (src) {\n      // Create the image element\n      var img = document.createElement('img');\n      img.setAttribute('style', params.imageStyle);\n\n      // Set image src with the file url\n      img.src = src;\n\n      // Create the image wrapper\n      var imageWrapper = document.createElement('div');\n\n      // Append image to the wrapper element\n      imageWrapper.appendChild(img);\n\n      // Append wrapper to the printable element\n      params.printableElement.appendChild(imageWrapper);\n    });\n\n    // Check if we are adding a print header\n    if (params.header) (0, _functions.addHeader)(params.printableElement, params);\n\n    // Print image\n    _print2.default.send(params, printFrame);\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/image.js?")},"./src/js/init.js":
/*!************************!*\
  !*** ./src/js/init.js ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _modal = __webpack_require__(/*! ./modal */ \"./src/js/modal.js\");\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _pdf = __webpack_require__(/*! ./pdf */ \"./src/js/pdf.js\");\n\nvar _pdf2 = _interopRequireDefault(_pdf);\n\nvar _html = __webpack_require__(/*! ./html */ \"./src/js/html.js\");\n\nvar _html2 = _interopRequireDefault(_html);\n\nvar _rawHtml = __webpack_require__(/*! ./raw-html */ \"./src/js/raw-html.js\");\n\nvar _rawHtml2 = _interopRequireDefault(_rawHtml);\n\nvar _image = __webpack_require__(/*! ./image */ \"./src/js/image.js\");\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _json = __webpack_require__(/*! ./json */ \"./src/js/json.js\");\n\nvar _json2 = _interopRequireDefault(_json);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar printTypes = ['pdf', 'html', 'image', 'json', 'raw-html'];\n\nexports.default = {\n  init: function init() {\n    var params = {\n      printable: null,\n      fallbackPrintable: null,\n      type: 'pdf',\n      header: null,\n      headerStyle: 'font-weight: 300;',\n      maxWidth: 800,\n      font: 'TimesNewRoman',\n      font_size: '12pt',\n      honorMarginPadding: true,\n      honorColor: false,\n      properties: null,\n      gridHeaderStyle: 'font-weight: bold; padding: 5px; border: 1px solid #dddddd;',\n      gridStyle: 'border: 1px solid lightgray; margin-bottom: -1px;',\n      showModal: false,\n      onError: function onError(error) {\n        throw error;\n      },\n      onLoadingStart: null,\n      onLoadingEnd: null,\n      onPrintDialogClose: null,\n      onPdfOpen: null,\n      onBrowserIncompatible: function onBrowserIncompatible() {\n        return true;\n      },\n      modalMessage: 'Retrieving Document...',\n      frameId: 'printJS',\n      printableElement: null,\n      documentTitle: 'Document',\n      targetStyle: ['clear', 'display', 'width', 'min-width', 'height', 'min-height', 'max-height'],\n      targetStyles: ['border', 'box', 'break', 'text-decoration'],\n      ignoreElements: [],\n      imageStyle: 'max-width: 100%;',\n      repeatTableHeader: true,\n      css: null,\n      style: null,\n      scanStyles: true,\n      base64: false\n\n      // Check if a printable document or object was supplied\n    };var args = arguments[0];\n    if (args === undefined) throw new Error('printJS expects at least 1 attribute.');\n\n    // Process parameters\n    switch (typeof args === 'undefined' ? 'undefined' : _typeof(args)) {\n      case 'string':\n        params.printable = encodeURI(args);\n        params.fallbackPrintable = params.printable;\n        params.type = arguments[1] || params.type;\n        break;\n      case 'object':\n        params.printable = args.printable;\n        params.base64 = typeof args.base64 !== 'undefined';\n        params.fallbackPrintable = typeof args.fallbackPrintable !== 'undefined' ? args.fallbackPrintable : params.printable;\n        params.fallbackPrintable = params.base64 ? 'data:application/pdf;base64,' + params.fallbackPrintable : params.fallbackPrintable;\n        for (var k in params) {\n          if (k === 'printable' || k === 'fallbackPrintable' || k === 'base64') continue;\n\n          params[k] = typeof args[k] !== 'undefined' ? args[k] : params[k];\n        }\n        break;\n      default:\n        throw new Error('Unexpected argument type! Expected \"string\" or \"object\", got ' + (typeof args === 'undefined' ? 'undefined' : _typeof(args)));\n    }\n\n    // Validate printable\n    if (!params.printable) throw new Error('Missing printable information.');\n\n    // Validate type\n    if (!params.type || typeof params.type !== 'string' || printTypes.indexOf(params.type.toLowerCase()) === -1) {\n      throw new Error('Invalid print type. Available types are: pdf, html, image and json.');\n    }\n\n    // Check if we are showing a feedback message to the user (useful for large files)\n    if (params.showModal) _modal2.default.show(params);\n\n    // Check for a print start hook function\n    if (params.onLoadingStart) params.onLoadingStart();\n\n    // To prevent duplication and issues, remove any used printFrame from the DOM\n    var usedFrame = document.getElementById(params.frameId);\n\n    if (usedFrame) usedFrame.parentNode.removeChild(usedFrame);\n\n    // Create a new iframe or embed element (IE prints blank pdf's if we use iframe)\n    var printFrame = void 0;\n\n    // Create iframe element\n    printFrame = document.createElement('iframe');\n\n    // Hide iframe\n    printFrame.setAttribute('style', 'visibility: hidden; height: 0; width: 0; position: absolute;');\n\n    // Set iframe element id\n    printFrame.setAttribute('id', params.frameId);\n\n    // For non pdf printing, pass an html document string to srcdoc (force onload callback)\n    if (params.type !== 'pdf') {\n      printFrame.srcdoc = '<html><head><title>' + params.documentTitle + '</title>';\n\n      // Attach css files\n      if (params.css) {\n        // Add support for single file\n        if (!Array.isArray(params.css)) params.css = [params.css];\n\n        // Create link tags for each css file\n        params.css.forEach(function (file) {\n          printFrame.srcdoc += '<link rel=\"stylesheet\" href=\"' + file + '\">';\n        });\n      }\n\n      printFrame.srcdoc += '</head><body></body></html>';\n    }\n\n    // Check printable type\n    switch (params.type) {\n      case 'pdf':\n        // Check browser support for pdf and if not supported we will just open the pdf file instead\n        if (_browser2.default.isFirefox() || _browser2.default.isEdge() || _browser2.default.isIE()) {\n          try {\n            console.info('PrintJS currently doesn\\'t support PDF printing in Firefox, Internet Explorer and Edge.');\n            if (params.onBrowserIncompatible() === true) {\n              var win = window.open(params.fallbackPrintable, '_blank');\n              win.focus();\n              if (params.onPdfOpen) params.onPdfOpen();\n            }\n          } catch (e) {\n            params.onError(e);\n          } finally {\n            // Make sure there is no loading modal opened\n            if (params.showModal) _modal2.default.close();\n            if (params.onLoadingEnd) params.onLoadingEnd();\n          }\n        } else {\n          _pdf2.default.print(params, printFrame);\n        }\n        break;\n      case 'image':\n        _image2.default.print(params, printFrame);\n        break;\n      case 'html':\n        _html2.default.print(params, printFrame);\n        break;\n      case 'raw-html':\n        _rawHtml2.default.print(params, printFrame);\n        break;\n      case 'json':\n        _json2.default.print(params, printFrame);\n        break;\n    }\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/init.js?")},"./src/js/json.js":
/*!************************!*\
  !*** ./src/js/json.js ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we received proper data\n    if (_typeof(params.printable) !== 'object') {\n      throw new Error('Invalid javascript data object (JSON).');\n    }\n\n    // Validate repeatTableHeader\n    if (typeof params.repeatTableHeader !== 'boolean') {\n      throw new Error('Invalid value for repeatTableHeader attribute (JSON).');\n    }\n\n    // Validate properties\n    if (!params.properties || !Array.isArray(params.properties)) {\n      throw new Error('Invalid properties array for your JSON data.');\n    }\n\n    // We will format the property objects to keep the JSON api compatible with older releases\n    params.properties = params.properties.map(function (property) {\n      return {\n        field: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' ? property.field : property,\n        displayName: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' ? property.displayName : property,\n        columnSize: (typeof property === 'undefined' ? 'undefined' : _typeof(property)) === 'object' && property.columnSize ? property.columnSize + ';' : 100 / params.properties.length + '%;'\n      };\n    });\n\n    // Create a print container element\n    params.printableElement = document.createElement('div');\n\n    // Check if we are adding a print header\n    if (params.header) {\n      (0, _functions.addHeader)(params.printableElement, params);\n    }\n\n    // Build the printable html data\n    params.printableElement.innerHTML += jsonToHTML(params);\n\n    // Print the json data\n    _print2.default.send(params, printFrame);\n  }\n};\n\n\nfunction jsonToHTML(params) {\n  // Get the row and column data\n  var data = params.printable;\n  var properties = params.properties;\n\n  // Create a html table\n  var htmlData = '<table style=\"border-collapse: collapse; width: 100%;\">';\n\n  // Check if the header should be repeated\n  if (params.repeatTableHeader) {\n    htmlData += '<thead>';\n  }\n\n  // Add the table header row\n  htmlData += '<tr>';\n\n  // Add the table header columns\n  for (var a = 0; a < properties.length; a++) {\n    htmlData += '<th style=\"width:' + properties[a].columnSize + ';' + params.gridHeaderStyle + '\">' + (0, _functions.capitalizePrint)(properties[a].displayName) + '</th>';\n  }\n\n  // Add the closing tag for the table header row\n  htmlData += '</tr>';\n\n  // If the table header is marked as repeated, add the closing tag\n  if (params.repeatTableHeader) {\n    htmlData += '</thead>';\n  }\n\n  // Create the table body\n  htmlData += '<tbody>';\n\n  // Add the table data rows\n  for (var i = 0; i < data.length; i++) {\n    // Add the row starting tag\n    htmlData += '<tr>';\n\n    // Print selected properties only\n    for (var n = 0; n < properties.length; n++) {\n      var stringData = data[i];\n\n      // Support nested objects\n      var property = properties[n].field.split('.');\n      if (property.length > 1) {\n        for (var p = 0; p < property.length; p++) {\n          stringData = stringData[property[p]];\n        }\n      } else {\n        stringData = stringData[properties[n].field];\n      }\n\n      // Add the row contents and styles\n      htmlData += '<td style=\"width:' + properties[n].columnSize + params.gridStyle + '\">' + stringData + '</td>';\n    }\n\n    // Add the row closing tag\n    htmlData += '</tr>';\n  }\n\n  // Add the table and body closing tags\n  htmlData += '</tbody></table>';\n\n  return htmlData;\n}\n\n//# sourceURL=webpack://printJS/./src/js/json.js?")},"./src/js/modal.js":
/*!*************************!*\
  !*** ./src/js/modal.js ***!
  \*************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Modal = {\n  show: function show(params) {\n    // Build modal\n    var modalStyle = 'font-family:sans-serif; ' + 'display:table; ' + 'text-align:center; ' + 'font-weight:300; ' + 'font-size:30px; ' + 'left:0; top:0;' + 'position:fixed; ' + 'z-index: 9990;' + 'color: #0460B5; ' + 'width: 100%; ' + 'height: 100%; ' + 'background-color:rgba(255,255,255,.9);' + 'transition: opacity .3s ease;';\n\n    // Create wrapper\n    var printModal = document.createElement('div');\n    printModal.setAttribute('style', modalStyle);\n    printModal.setAttribute('id', 'printJS-Modal');\n\n    // Create content div\n    var contentDiv = document.createElement('div');\n    contentDiv.setAttribute('style', 'display:table-cell; vertical-align:middle; padding-bottom:100px;');\n\n    // Add close button (requires print.css)\n    var closeButton = document.createElement('div');\n    closeButton.setAttribute('class', 'printClose');\n    closeButton.setAttribute('id', 'printClose');\n    contentDiv.appendChild(closeButton);\n\n    // Add spinner (requires print.css)\n    var spinner = document.createElement('span');\n    spinner.setAttribute('class', 'printSpinner');\n    contentDiv.appendChild(spinner);\n\n    // Add message\n    var messageNode = document.createTextNode(params.modalMessage);\n    contentDiv.appendChild(messageNode);\n\n    // Add contentDiv to printModal\n    printModal.appendChild(contentDiv);\n\n    // Append print modal element to document body\n    document.getElementsByTagName('body')[0].appendChild(printModal);\n\n    // Add event listener to close button\n    document.getElementById('printClose').addEventListener('click', function () {\n      Modal.close();\n    });\n  },\n  close: function close() {\n    var printFrame = document.getElementById('printJS-Modal');\n\n    printFrame.parentNode.removeChild(printFrame);\n  }\n};\n\nexports.default = Modal;\n\n//# sourceURL=webpack://printJS/./src/js/modal.js?")},"./src/js/pdf.js":
/*!***********************!*\
  !*** ./src/js/pdf.js ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Check if we have base64 data\n    if (params.base64) {\n      var bytesArray = Uint8Array.from(atob(params.printable), function (c) {\n        return c.charCodeAt(0);\n      });\n      createBlobAndPrint(params, printFrame, bytesArray);\n      return;\n    }\n\n    // Format pdf url\n    params.printable = /^(blob|http)/i.test(params.printable) ? params.printable : window.location.origin + (params.printable.charAt(0) !== '/' ? '/' + params.printable : params.printable);\n\n    // Get the file through a http request (Preload)\n    var req = new window.XMLHttpRequest();\n    req.responseType = 'arraybuffer';\n\n    req.addEventListener('load', function () {\n      // Check for errors\n      if ([200, 201].indexOf(req.status) === -1) {\n        (0, _functions.cleanUp)(params);\n        params.onError(req.statusText);\n\n        // Since we don't have a pdf document available, we will stop the print job\n        return;\n      }\n\n      // Print requested document\n      createBlobAndPrint(params, printFrame, req.response);\n    });\n\n    req.open('GET', params.printable, true);\n    req.send();\n  }\n};\n\n\nfunction createBlobAndPrint(params, printFrame, data) {\n  // Pass response or base64 data to a blob and create a local object url\n  var localPdf = new window.Blob([data], { type: 'application/pdf' });\n  localPdf = window.URL.createObjectURL(localPdf);\n\n  // Set iframe src with pdf document url\n  printFrame.setAttribute('src', localPdf);\n\n  _print2.default.send(params, printFrame);\n}\n\n//# sourceURL=webpack://printJS/./src/js/pdf.js?")},"./src/js/print.js":
/*!*************************!*\
  !*** ./src/js/print.js ***!
  \*************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _browser = __webpack_require__(/*! ./browser */ \"./src/js/browser.js\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _functions = __webpack_require__(/*! ./functions */ \"./src/js/functions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Print = {\n  send: function send(params, printFrame) {\n    // Append iframe element to document body\n    document.getElementsByTagName('body')[0].appendChild(printFrame);\n\n    // Get iframe element\n    var iframeElement = document.getElementById(params.frameId);\n\n    // Wait for iframe to load all content\n    iframeElement.onload = function () {\n      if (params.type === 'pdf') {\n        performPrint(iframeElement, params);\n        return;\n      }\n\n      // Get iframe element document\n      var printDocument = iframeElement.contentWindow || iframeElement.contentDocument;\n      if (printDocument.document) printDocument = printDocument.document;\n\n      // Append printable element to the iframe body\n      printDocument.body.appendChild(params.printableElement);\n\n      // Add custom style\n      if (params.type !== 'pdf' && params.style) {\n        // Create style element\n        var style = document.createElement('style');\n        style.innerHTML = params.style;\n\n        // Append style element to iframe's head\n        printDocument.head.appendChild(style);\n      }\n\n      // If printing images, wait for them to load inside the iframe\n      var images = printDocument.getElementsByTagName('img');\n\n      if (images.length > 0) {\n        loadIframeImages(images).then(function () {\n          return performPrint(iframeElement, params);\n        });\n      } else {\n        performPrint(iframeElement, params);\n      }\n    };\n  }\n};\n\nfunction performPrint(iframeElement, params) {\n  try {\n    iframeElement.focus();\n\n    // If Edge or IE, try catch with execCommand\n    if (_browser2.default.isEdge() || _browser2.default.isIE()) {\n      try {\n        iframeElement.contentWindow.document.execCommand('print', false, null);\n      } catch (e) {\n        iframeElement.contentWindow.print();\n      }\n    } else {\n      // Other browsers\n      iframeElement.contentWindow.print();\n    }\n  } catch (error) {\n    params.onError(error);\n  } finally {\n    (0, _functions.cleanUp)(params);\n  }\n}\n\nfunction loadIframeImages(images) {\n  var promises = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = images[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var image = _step.value;\n\n      promises.push(loadIframeImage(image));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return Promise.all(promises);\n}\n\nfunction loadIframeImage(image) {\n  return new Promise(function (resolve) {\n    var pollImage = function pollImage() {\n      !image || typeof image.naturalWidth === 'undefined' || image.naturalWidth === 0 || !image.complete ? setTimeout(pollImage, 500) : resolve();\n    };\n    pollImage();\n  });\n}\n\nexports.default = Print;\n\n//# sourceURL=webpack://printJS/./src/js/print.js?")},"./src/js/raw-html.js":
/*!****************************!*\
  !*** ./src/js/raw-html.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _print = __webpack_require__(/*! ./print */ \"./src/js/print.js\");\n\nvar _print2 = _interopRequireDefault(_print);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  print: function print(params, printFrame) {\n    // Create printable element (container)\n    params.printableElement = document.createElement('div');\n    params.printableElement.setAttribute('style', 'width:100%');\n\n    // Set our raw html as the printable element inner html content\n    params.printableElement.innerHTML = params.printable;\n\n    // Print html contents\n    _print2.default.send(params, printFrame);\n  }\n};\n\n//# sourceURL=webpack://printJS/./src/js/raw-html.js?")},"./src/sass/index.scss":
/*!*****************************!*\
  !*** ./src/sass/index.scss ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://printJS/./src/sass/index.scss?")},0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");\n\n\n//# sourceURL=webpack://printJS/multi_./src/index.js?')}}).default},module.exports=factory()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){throw new Error(e+" is not implemented")}n.r(t);var o=n(0),i=n.n(o),a=/[A-Z]/g,l=["viewBox"];function s(e,t){Object.keys(t).forEach((function(n){e.setAttribute(function(e){return-1===l.indexOf(e)&&(e=e.replace(a,(function(e){return"-"+e.toLowerCase()}))),e}(n),t[n])}))}var u=/^([a-f0-9]{6}|[a-f0-9]{3})$/i;function c(e){return u.test(e)&&(e="#".concat(e)),e}function d(e){if("highlight"===e.type){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return s(t,{fill:c(e.color||"#ff0"),fillOpacity:.2}),e.rectangles.forEach((function(e){t.appendChild(createRect_pen(e))})),t}var n;return"creacion"==e.status?(n=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return s(t,{x:e.x,y:e.y,width:e.width,height:e.height}),t}(e),s(n,{stroke:c(e.color||"#f00"),fill:"#f0f8ff"})):(n=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","rect"),n=document.createElementNS("http://www.w3.org/2000/svg","text"),r=document.createElementNS("http://www.w3.org/2000/svg","tspan"),o=document.createElementNS("http://www.w3.org/2000/svg","tspan"),i=document.createElementNS("http://www.w3.org/2000/svg","tspan"),a=(JSON.parse(localStorage.getItem("".concat(e.documentId,"/annotations")))||[]).filter((function(t){return"Comment"===t.class&&t.annotation===e.uuid}));console.log(a[0].content),s(r,{x:e.x+5}),r.innerHTML=a[0].content.nombres+" "+a[0].content.apellidos+" - "+a[0].content.cedula,s(o,{x:e.x+5,dy:15}),o.innerHTML="12/07/2020 12:30",s(i,{x:e.x+5,dy:15}),i.innerHTML="token : "+a[0].uuid,s(n,{y:e.y+15,style:"fill: #000000; stroke: none; font-size: 11px;"}),n.appendChild(r),n.appendChild(o),n.appendChild(i),s(t,{x:e.x,y:e.y,width:e.width,height:e.height});var l=document.createElementNS("http://www.w3.org/2000/svg","g");return l.appendChild(t),l.appendChild(n),l}(e),s(n,{stroke:c(e.color||"#f00"),fill:"#F2F3F4"})),n}function p(e){var t=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");return s(t,{cx:e.cx,cy:e.cy,r:e.r}),t}(e),n=c(e.color||"#f00");return"circle"===e.type&&s(t,{stroke:n,fill:"none","stroke-width":5}),"emptycircle"===e.type&&s(t,{stroke:n,fill:"none","stroke-width":2}),"fillcircle"===e.type&&s(t,{stroke:n,fill:n,"stroke-width":5}),t}function f(e,t,n){return[e[0],e[1],e[2],e[3],e[0]*t+e[2]*n+e[4],e[1]*t+e[3]*n+e[5]]}function m(e,t){t=t*Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return[e[0]*n+e[2]*r,e[1]*n+e[3]*r,e[0]*-r+e[2]*n,e[1]*-r+e[3]*n,e[4],e[5]]}function h(e,t,n){return[e[0]*t,e[1]*t,e[2]*n,e[3]*n,e[4],e[5]]}function v(e,t,n){return{x:e,y:t,z:n}}function y(e,t,n){return{xcoord:e,ycoord:t,zcoord:n}}function g(e,t){return y(t.x-e.x,t.y-e.y,t.z-e.z)}function b(e,t){return v(e.x+t.xcoord,e.y+t.ycoord,e.z+t.zcoord)}function w(e,t){return y(e.xcoord*t,e.ycoord*t,e.zcoord*t)}function _(e){return Math.sqrt(Math.pow(e.xcoord,2)+Math.pow(e.ycoord,2)+Math.pow(e.zcoord,2))}function x(e){return w(e,-1)}function k(e){var t=_(e);return y(e.xcoord/t,e.ycoord/t,e.zcoord/t)}function E(e){var t,n,r=document.createElementNS("http://www.w3.org/2000/svg","polygon");if(2===e.lines.length){var o=e.lines[0],i=e.lines[e.lines.length-1],a=v(o[0],o[1],0),l=v(i[0],i[1],0),u=g(a,l),d=k(u);u=g(a,l=b(a,w(d,40)));var p=y(0,0,1),f=k((n=p,y((t=d).ycoord*n.zcoord-t.zcoord*n.ycoord,t.zcoord*n.xcoord-t.xcoord*n.zcoord,t.xcoord*n.ycoord-t.ycoord*n.xcoord))),m=e.width||10,h=b(a,w(f,.5*m)),E=b(h,w(d,_(u)-2*m)),S=b(E,w(f,m)),C=l,A=b(a,w(x(f),.5*m)),j=b(A,w(d,_(u)-2*m)),L=b(j,w(x(f),m));s(r,{points:h.x+","+h.y+" "+E.x+","+E.y+" "+S.x+","+S.y+" "+C.x+","+C.y+" "+L.x+","+L.y+" "+j.x+","+j.y+" "+A.x+","+A.y,stroke:c(e.color||"#000"),fill:c(e.color||"#000")})}return r}var S=/firefox/i.test(navigator.userAgent);function C(e){var t,n;switch(e.rotation%360){case 0:t=n=0;break;case 90:t=0,n=e.width/e.scale*-1;break;case 180:t=e.width/e.scale*-1,n=e.height/e.scale*-1;break;case 270:t=e.height/e.scale*-1,n=0}return{x:t,y:n}}function A(e,t){var n=C(t);if(e.setAttribute("transform","scale(".concat(t.scale,") rotate(").concat(t.rotation,") translate(").concat(n.x,", ").concat(n.y,")")),!S&&"svg"===e.nodeName.toLowerCase()){e.setAttribute("x",parseInt(e.getAttribute("x"),10)*t.scale),e.setAttribute("y",parseInt(e.getAttribute("y"),10)*t.scale);var r=parseInt(e.getAttribute("x",10)),o=parseInt(e.getAttribute("y",10)),i=parseInt(e.getAttribute("width"),10),a=parseInt(e.getAttribute("height"),10),l=e.querySelector("path"),s=l.parentNode;switch([e,s,l,e.querySelector("rect")].forEach((function(e){e.setAttribute("width",parseInt(e.getAttribute("width"),10)*t.scale),e.setAttribute("height",parseInt(e.getAttribute("height"),10)*t.scale)})),A(l,Object.assign({},t,{scale:1})),t.rotation%360){case 90:e.setAttribute("x",t.width-o-i),e.setAttribute("y",r),s.setAttribute("x",1),s.setAttribute("y",0);break;case 180:e.setAttribute("x",t.width-r-i),e.setAttribute("y",t.height-o-a),s.setAttribute("y",2);break;case 270:e.setAttribute("x",o),e.setAttribute("y",t.height-r-a),s.setAttribute("x",-1),s.setAttribute("y",0)}}return e}function j(e,t,n){var r,o,i;switch(n||(n=JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))),t.type){case"area":case"highlight":r=d(t);break;case"circle":case"fillcircle":case"emptycircle":r=p(t);break;case"strikeout":o=t,s(i=document.createElementNS("http://www.w3.org/2000/svg","g"),{stroke:c(o.color||"#f00"),strokeWidth:1}),o.rectangles.forEach((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","line");s(t,{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y}),i.appendChild(t)})),r=i;break;case"point":r=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),o=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","a");return s(t,{width:90,height:50,x:e.x,y:e.y}),s(n,{width:90,height:50,x:0,y:-4.5,viewBox:"0 0 1000 1000"}),s(r,{width:90,height:50,stroke:"#000",fill:"#ff0"}),s(o,{d:"M499.968 214.336q-113.832 0 -212.877 38.781t-157.356 104.625 -58.311 142.29q0 62.496 39.897 119.133t112.437 97.929l48.546 27.9 -15.066 53.568q-13.392 50.778 -39.06 95.976 84.816 -35.154 153.45 -95.418l23.994 -21.204 31.806 3.348q38.502 4.464 72.54 4.464 113.832 0 212.877 -38.781t157.356 -104.625 58.311 -142.29 -58.311 -142.29 -157.356 -104.625 -212.877 -38.781z",strokeWidth:90,stroke:"#000",fill:"#fff"}),s(i,{target:"_top",href:"https://www.google.com"}),i.appendChild(o),n.appendChild(i),t.appendChild(r),t.appendChild(n),t}(t);break;case"textbox":r=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","text");s(t,{x:e.x,y:e.y,fill:c(e.color||"#000"),fontSize:e.size,transform:"rotate(".concat(e.rotation,")"),style:"white-space: pre"}),t.innerHTML=e.content;var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.appendChild(t),n}(t);break;case"drawing":r=function(e){var t=[],n=document.createElementNS("http://www.w3.org/2000/svg","path");if(e.lines.length>0){t.push("M".concat(e.lines[0][0]," ").concat(e.lines[0][1]));for(var r=1,o=e.lines.length;r<o;r++){var i=e.lines[r];e.lines[r+1]&&t.push("L".concat(i[0]," ").concat(i[1]))}}return s(n,{d:"".concat(t.join(" ")),stroke:c(e.color||"#000"),strokeWidth:e.width||1,fill:"none"}),n}(t);break;case"arrow":r=E(t)}return r&&(r.setAttribute("data-pdf-annotate-id",t.uuid),r.setAttribute("aria-hidden",!0),Object.keys(t).filter((function(e){return-1===["color","x","y","cx","cy","color","documentId","lines","page","width","class","content","size","rotation","r"].indexOf(e)})).forEach((function(e){r.setAttribute("data-pdf-annotate-".concat(e),t[e])})),e.appendChild(A(r,n))),r}function L(e,t,n){return n||(n=JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))),t&&(t=A(t,n)),t}var F=document.createElement("style");function I(e){for(var t=e;(t=t.parentNode)&&t!==document;)if("SVG"===t.nodeName.toUpperCase()&&"true"===t.getAttribute("data-pdf-annotate-container"))return t;return null}function M(e,t){for(var n=document.querySelectorAll('svg[data-pdf-annotate-container="true"]'),r=0,o=n.length;r<o;r++){var i=n[r];if(O(e,t,i.getBoundingClientRect()))return i}return null}function T(e,t){for(var n=null,r=document.elementFromPoint(e,t);!n&&r&&r!==document;){r.getAttribute("data-pdf-annotate-type")&&(n=r),r=r.parentNode}return n}function O(e,t,n){return t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right}function P(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,o=0,i=0;if(["line","path"].indexOf(e.tagName.toLowerCase())>-1&&e.getBBox){var a=e.getBBox();o=(t.width-a.width)/2,i=(t.height-a.height)/2,n=a.width,r=a.height}var l=function(e){var t=e;for(;(t=t.parentNode)&&t!==document&&"SVG"!==t.nodeName.toUpperCase(););var n=t.getBoundingClientRect();return{offsetLeft:n.left,offsetTop:n.top}}(e),s=l.offsetLeft,u=l.offsetTop;return{top:t.top-u+i,left:t.left-s+o,bottom:t.bottom-u-i,right:t.right-s-o,width:n,height:r}}function N(e,t){var n={},r=B(e).viewport;return Object.keys(t).forEach((function(e){n[e]=t[e]*r.scale})),n}function z(e,t,n){var r=[1,0,0,1,0,0];r=m(r=h(r,(n=n||B(t).viewport).scale,n.scale),n.rotation);var o,i,a,l=C(n);return r=f(r,l.x,l.y),o=e,a=(i=r)[0]*i[3]-i[1]*i[2],[(o[0]*i[3]-o[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,(-o[0]*i[1]+o[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a]}function R(e,t,n){var r=[1,0,0,1,0,0];r=m(r=h(r,(n=n||B(t).viewport).scale,n.scale),n.rotation);var o,i,a=C(n);return r=f(r,a.x,a.y),i=r,[(o=e)[0]*i[0]+o[1]*i[2]+i[4],o[0]*i[1]+o[1]*i[3]+i[5]]}function q(e,t){var n={},r=B(e).viewport;return Object.keys(t).forEach((function(e){n[e]=t[e]/r.scale})),n}function D(){F.parentNode||document.head.appendChild(F)}function U(){F.parentNode&&F.parentNode.removeChild(F)}function B(e){return{documentId:e.getAttribute("data-pdf-annotate-document"),pageNumber:parseInt(e.getAttribute("data-pdf-annotate-page"),10),viewport:JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))}}F.innerHTML="\nbody {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",F.setAttribute("data-pdf-annotate-user-select","true");var H,W=new i.a;function Q(){W.emit.apply(W,arguments)}function Y(){W.on.apply(W,arguments)}function J(){W.removeListener.apply(W,arguments)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}document.addEventListener("click",(function(e){if(M(e.clientX,e.clientY)){var t=T(e.clientX,e.clientY);if(H&&H!==t&&W.emit("annotation:blur",H),t)"creacion"==t.getAttribute("data-pdf-annotate-status")?W.emit("annotation:click",t):W.emit("xannotation:click",t),console.log("ventana de datos");H=t}}));var V=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};X(this,e),Object.keys(n).forEach((function(e){"function"==typeof n[e]&&"function"==typeof t[e]&&(t[e]=n[e])}))}var t,n,o;return t=e,(n=[{key:"__getAnnotations",value:function(e,t){r("getAnnotations")}},{key:"getAnnotation",value:function(e,t){r("getAnnotation")}},{key:"__addAnnotation",value:function(e,t,n){r("addAnnotation")}},{key:"__editAnnotation",value:function(e,t,n){r("editAnnotation")}},{key:"__deleteAnnotation",value:function(e,t){r("deleteAnnotation")}},{key:"getComments",value:function(e,t){r("getComments")}},{key:"__addComment",value:function(e,t,n){r("addComment")}},{key:"__editComment",value:function(e,t,n){r("editComment")}},{key:"__deleteComment",value:function(e,t){r("deleteComment")}},{key:"getAnnotations",get:function(){return this.__getAnnotations},set:function(e){this.__getAnnotations=function(t,n){return e.apply(void 0,arguments).then((function(e){return e.annotations&&e.annotations.forEach((function(e){e.documentId=t})),e}))}}},{key:"addAnnotation",get:function(){return this.__addAnnotation},set:function(e){this.__addAnnotation=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return Q("annotation:add",t,n,e),e}))}}},{key:"editAnnotation",get:function(){return this.__editAnnotation},set:function(e){this.__editAnnotation=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return Q("annotation:edit",t,n,e),e}))}}},{key:"deleteAnnotation",get:function(){return this.__deleteAnnotation},set:function(e){this.__deleteAnnotation=function(t,n){return e.apply(void 0,arguments).then((function(e){return e&&Q("annotation:delete",t,n),e}))}}},{key:"addComment",get:function(){return this.__addComment},set:function(e){this.__addComment=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return Q("comment:add",t,n,e),e}))}}},{key:"editComment",get:function(){return this.__editComment},set:function(e){this.__editComment=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return Q("Comment:edit",t,n,e),e}))}}},{key:"deleteComment",get:function(){return this.__deleteComment},set:function(e){this.__deleteComment=function(t,n){return e.apply(void 0,arguments).then((function(e){return e&&Q("comment:delete",t,n),e}))}}}])&&G(t.prototype,n),o&&G(t,o),e}(),$=/[xy]/g;function K(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}function Z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace($,K)}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(n,e);var t=ne(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this,{getAnnotations:function(e,t){return new Promise((function(n,r){var o=ae(e).filter((function(e){return e.page===t&&"Annotation"===e.class}));n({documentId:e,pageNumber:t,annotations:o})}))}})).getAnnotation=function(e,t){return Promise.resolve(ae(e)[se(e,t)])},e.addAnnotation=function(e,t,n){return new Promise((function(r,o){n.class="Annotation",n.uuid=Z(),n.page=t;var i=ae(e);i.push(n),le(e,i),r(n)}))},e.editAnnotation=function(e,t,n){return new Promise((function(r,o){var i=ae(e);i[se(e,t)]=n,le(e,i),r(n)}))},e.deleteAnnotation=function(e,t){return new Promise((function(n,r){if(!(ae(e).filter((function(e){return e.uuid===t}))[0]||{}))return r("Could not find annotation");var o=se(e,t);if(o>-1){var i=ae(e);i.splice(o,1),le(e,i)}n(!0)}))},e.getComments=function(e,t){return new Promise((function(n,r){n(ae(e).filter((function(e){return"Comment"===e.class&&e.annotation===t})))}))},e.addCommentxx=function(e,t,n){return new Promise((function(r,o){var i={class:"Comment",uuid:Z(),annotation:t,content:n};console.log(i);var a=ae(e);a.push(i),le(e,a),r(i)}))},e.addComment=function(e,t,n){return new Promise((function(r,o){for(var i=-1,a=ae(e),l=0,s=a.length;l<s;l++)if(a[l].annotation===t){i=l;break}i>-1&&a.splice(i,1);var u={class:"Comment",uuid:Z(),annotation:t,content:n};console.log(u),a.push(u),le(e,a),r(u)}))},e.deleteComment=function(e,t){return new Promise((function(n,r){if(!(ae(e).filter((function(e){return e.uuid===t}))[0]||{}))return r("Could not find annotation");for(var o=-1,i=ae(e),a=0,l=i.length;a<l;a++)if(i[a].uuid===t){o=a;break}o>-1&&(i.splice(o,1),le(e,i)),n(!0)}))},e}return n}(V);function ae(e){return JSON.parse(localStorage.getItem("".concat(e,"/annotations")))||[]}function le(e,t){localStorage.setItem("".concat(e,"/annotations"),JSON.stringify(t))}function se(e,t){for(var n=-1,r=ae(e),o=0,i=r.length;o<i;o++)if(r[o].uuid===t){n=o;break}return n}function ue(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,e);var t,n,r,o=he(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pe(this,i),(e=o.call(this,{getAnnotations:function(e,t){return new Promise((function(n,r){var o=be(e).filter((function(e){return e.page===t&&"Annotation"===e.class}));n({documentId:e,pageNumber:t,annotations:o})}))}}))._userId=t,e._globalEdit=n,e.getAnnotation=function(t,n){return Promise.resolve(we(t,e._userId)[xe(t,e._userId,n)])},e.addAnnotation=function(t,n,r){return new Promise((function(o,i){r.class="Annotation",r.uuid=Z(),r.page=n,r.userId=e._userId;var a=we(t,e._userId);a.push(r),_e(t,e._userId,a),o(r)}))},e.editAnnotation=function(t,n,r){return new Promise((function(o,i){!e._globalEdit&&r.userId&&r.userId!==e._userId&&i("Non-matching userId");var a=we(t,r.userId);a[xe(t,r.userId,n)]=r,_e(t,r.userId,a),o(r)}))},e.deleteAnnotation=function(t,n){return new Promise((function(r,o){var i=be(t).filter((function(e){return e.uuid===n}))[0]||{};if(!i)return o("Could not find annotation");if(!e._globalEdit&&i.userId&&i.userId!==e._userId)return o("Non-matching userId");var a=xe(t,i.userId,n);if(a>-1){var l=we(t,i.userId);l.splice(a,1),_e(t,i.userId,l)}r(!0)}))},e.getComments=function(t,n){return new Promise((function(r,o){r(we(t,e._userId).filter((function(e){return"Comment"===e.class&&e.annotation===n})))}))},e.addComment=function(t,n,r){return new Promise((function(o,i){var a={class:"Comment",uuid:Z(),annotation:n,content:r,userId:e._userId},l=we(t,e._userId);l.push(a),_e(t,e._userId,l),o(a)}))},e.deleteComment=function(t,n){return new Promise((function(r,o){var i=be(t).filter((function(e){return e.uuid===n}))[0]||{};if(!i)return o("Could not find annotation");if(!e._globalEdit&&i.userId&&i.userId!==e._userId)return o("Non-matching userId");for(var a=-1,l=we(t,i.userId),s=0,u=l.length;s<u;s++)if(l[s].uuid===n){a=s;break}a>-1&&(l.splice(a,1),_e(t,i.userId,l)),r(!0)}))},e}return t=i,(n=[{key:"userId",get:function(){return this._userId}}])&&fe(t.prototype,n),r&&fe(t,r),i}(V);function be(e){for(var t=[],n=new RegExp("".concat(e,"/(.*)/annotations")),r=0;r<localStorage.length;r++)localStorage.key(r).search(n)>-1&&t.push.apply(t,ue(JSON.parse(localStorage.getItem(localStorage.key(r)))));return t}function we(e,t){return JSON.parse(localStorage.getItem("".concat(e,"/").concat(t,"/annotations")))||[]}function _e(e,t,n){localStorage.setItem("".concat(e,"/").concat(t,"/annotations"),JSON.stringify(n))}function xe(e,t,n){for(var r=-1,o=we(e,t),i=0,a=o.length;i<a;i++)if(o[i].uuid===n){r=i;break}return r}var ke={annotationLayerName:"annotationLayer",textLayerName:"textLayer",annotationSvgQuery:function(){return"svg."+this.annotationLayerName},annotationClassQuery:function(){return"."+this.annotationLayerName},textClassQuery:function(){return"."+this.textLayerName}};function Ee(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce,Ae,je,Le,Fe,Ie=!1,Me=!1;function Te(){Ce&&(Ce.parentNode.removeChild(Ce),Ce=null),document.removeEventListener("click",Pe),document.removeEventListener("keyup",Ne),document.removeEventListener("mousedown",ze),document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",qe),U()}function Oe(){if(Ce){var e=Ce.getAttribute("data-target-id"),t=B(Ce.parentNode.querySelector(ke.annotationSvgQuery())).documentId;_n.getStoreAdapter().deleteAnnotation(t,e).then((function(){Ee(document.querySelectorAll('[data-pdf-annotate-id="'.concat(e,'"]'))).forEach((function(e){e.parentNode.removeChild(e)}))})),Te()}}function Pe(e){if(M(e.clientX,e.clientY)){var t=document.getElementById("pdf-annotate-edit-overlay");if(t){if(Me||e.target===t)return;Te()}}}function Ne(e){var t;t=e.key?"delete"===e.key.toLowerCase()||"backspace"===e.key.toLowerCase():8===e.keyCode||46===e.keyCode,Ce&&t&&"textarea"!==e.target.nodeName.toLowerCase()&&"input"!==e.target.nodeName.toLowerCase()&&(e.preventDefault(),Oe())}function ze(e){if(e.target===Ce){var t=Ce.getAttribute("data-target-id"),n=document.querySelector('[data-pdf-annotate-id="'.concat(t,'"]')).getAttribute("data-pdf-annotate-type");"highlight"!==n&&"strikeout"!==n&&(Me=!0,Ae=e.clientX,je=e.clientY,Le=Ce.offsetLeft,Fe=Ce.offsetTop,Ce.style.background="rgba(255, 255, 255, 0.7)",Ce.style.cursor="move",Ce.querySelector("a").style.display="none",document.addEventListener("mousemove",Re),document.addEventListener("mouseup",qe),D())}}function Re(e){var t=Ce.parentNode.getBoundingClientRect(),n=Fe+(e.clientY-je),r=Le+(e.clientX-Ae),o=t.height,i=t.width;n>0&&n+Ce.offsetHeight<o&&(Ce.style.top="".concat(n,"px")),r>0&&r+Ce.offsetWidth<i&&(Ce.style.left="".concat(r,"px"))}function qe(e){var t=Ce.getAttribute("data-target-id"),n=document.querySelectorAll('[data-pdf-annotate-id="'.concat(t,'"]')),r=n[0].getAttribute("data-pdf-annotate-type"),o=Ce.parentNode.querySelector(ke.annotationSvgQuery()),i=B(o).documentId;Ce.querySelector("a").style.display="",_n.getStoreAdapter().getAnnotation(i,t).then((function(e){var a="x",l="y";if(["circle","fillcircle","emptycircle"].indexOf(r)>-1&&(a="cx",l="cy"),"point"!==r){if(["area","highlight","textbox","circle","fillcircle","emptycircle"].indexOf(r)>-1){var s=z([Le,Fe],o),u=z([Ce.offsetLeft,Ce.offsetTop],o),c={x:u[0]-s[0],y:u[1]-s[1]};"textbox"===r&&(n=[n[0].firstChild]),Ee(n).forEach((function(t,n){var r=parseInt(t.getAttribute(a),10),o=parseInt(t.getAttribute(l),10);0!==c.y&&(o+=c.y,t.setAttribute(l,o),e.rectangles&&n<e.rectangles.length?e.rectangles[n].y=o:e[l]&&(e[l]=o)),0!==c.x&&(r+=c.x,t.setAttribute(a,r),e.rectangles&&n<e.rectangles.length?e.rectangles[n].x=r:e[a]&&(e[a]=r))}))}else{if("strikeout"===r)return;if("drawing"===r||"arrow"===r)return}_n.getStoreAdapter().editAnnotation(i,t,e)}})),setTimeout((function(){Me=!1}),0),Ce.style.background="",Ce.style.cursor="",document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",qe),U()}function De(e){!function(e){Te(),Ce=document.createElement("div");var t=document.createElement("a"),n=I(e).parentNode,r=e.getAttribute("data-pdf-annotate-id"),o=P(e),i=o.left-3,a=o.top-3;Ce.setAttribute("id","pdf-annotate-edit-overlay"),Ce.setAttribute("data-target-id",r),Ce.style.boxSizing="content-box",Ce.style.position="absolute",Ce.style.top="".concat(a,"px"),Ce.style.left="".concat(i,"px"),Ce.style.width="".concat(o.width,"px"),Ce.style.height="".concat(o.height,"px"),Ce.style.border="".concat(3,"px solid ").concat("#4B5DDF"),Ce.style.borderRadius="".concat(3,"px"),Ce.style.zIndex=20100,t.innerHTML="",t.setAttribute("href","javascript://"),t.style.background="#fff",t.style.borderRadius="20px",t.style.border="1px solid #bbb",t.style.color="#bbb",t.style.fontSize="16px",t.style.padding="2px",t.style.textAlign="center",t.style.textDecoration="none",t.style.position="absolute",t.style.top="-13px",t.style.right="-13px",t.style.width="25px",t.style.height="25px",Ce.appendChild(t),n.appendChild(Ce),document.addEventListener("click",Pe),document.addEventListener("keyup",Ne),document.addEventListener("mousedown",ze),t.addEventListener("click",Oe),t.addEventListener("mouseover",(function(){t.style.color="#35A4DC",t.style.borderColor="#999",t.style.boxShadow="0 1px 1px #ccc"})),t.addEventListener("mouseout",(function(){t.style.color="#bbb",t.style.borderColor="#bbb",t.style.boxShadow=""})),Ce.addEventListener("mouseover",(function(){Me||(t.style.display="")})),Ce.addEventListener("mouseout",(function(){t.style.display="none"}))}(e)}var Ue,Be,He,We=!1,Qe=!1,Ye=[];function Je(e){He=null,Ye=[],Qe=!0,e.preventDefault()}function Xe(e){!function(e,t){var n;if(Qe=!1,Ye.length>1&&(n=M(e,t))){var r=B(n),o=r.documentId,i=r.pageNumber;_n.getStoreAdapter().addAnnotation(o,i,{type:"drawing",width:Ue,color:Be,lines:Ye}).then((function(e){He&&n.removeChild(He),j(n,e)}))}}(e.clientX,e.clientY)}function Ge(e){e.srcElement.classList.contains("annotationLayer")&&Qe&&function(e,t){var n=M(e,t);if(!n)return;var r=n.getBoundingClientRect(),o=z([e-r.left,t-r.top],n);if(o[0]=o[0].toFixed(2),o[1]=o[1].toFixed(2),Ye.push(o),Ye.length<=1)return;He&&n.removeChild(He);He=j(n,{type:"drawing",color:Be,width:Ue,lines:Ye})}(e.clientX,e.clientY)}function Ve(e){27===e.keyCode&&(Ye=null,He.parentNode.removeChild(He),document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",Xe))}var $e,Ke,Ze,et,tt,nt,rt=!1;function ot(e){var t=T(e.clientX,e.clientY);if(null!==t){var n=t.getAttribute("data-pdf-annotate-type");if("circle"===n||"fillcircle"===n||"emptycircle"===n){var r=I(t),o=B(r).documentId,i=t.getAttribute("data-pdf-annotate-id");_n.getStoreAdapter().getAnnotation(o,i).then((function(e){if(e){Ze=null,et=[];var t=R([e.cx,e.cy],r),n=r.getBoundingClientRect();nt=t[0]+n.left,tt=t[1]+n.top,document.addEventListener("mousemove",at),document.addEventListener("mouseup",it)}}))}}}function it(e){var t;if(et.length>1&&(t=M(e.clientX,e.clientY))){var n=B(t),r=n.documentId,o=n.pageNumber;_n.getStoreAdapter().addAnnotation(r,o,{type:"arrow",width:$e,color:Ke,lines:et}).then((function(e){Ze&&t.removeChild(Ze),j(t,e)}))}document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",it)}function at(e){!function(e,t){var n=M(e,t);if(!n)return;var r=n.getBoundingClientRect(),o=z([e-r.left,t-r.top],n);if(et.length<2)return void et.push(o);et[1]=o;Ze&&n.removeChild(Ze);Ze=j(n,{type:"arrow",color:Ke,width:$e,lines:et})}(0===et.length?nt:e.clientX,0===et.length?tt:e.clientY)}function lt(e){27===e.keyCode&&(et=null,Ze.parentNode.removeChild(Ze),document.removeEventListener("mousemove",at),document.removeEventListener("mouseup",it))}function st(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct=!1,dt=null;function pt(e){ct=!0,dt=[e.clientX,e.clientY]}function ft(e){ct=!1,ht(T(e.clientX,e.clientY))}function mt(e){if(ct){var t=[],n=Math.abs(dt[0]-e.clientX),r=Math.abs(dt[1]-e.clientY);if(n>=1||r>=1)for(var o=Math.round(Math.max(n,r)),i=Math.min(n,r)/o,a=n<r,l=[Math.min(dt[0],e.clientX),Math.min(dt[1],e.clientY)],s=0;s<o;s++)a?t.push([Math.round(l[0]+i*s),Math.round(l[1]+s)]):t.push([Math.round(l[0]+s),Math.round(l[1]+i*s)]);for(var u=0,c=t;u<c.length;u++){var d=c[u];ht(T(d[0],d[1]))}dt=[e.clientX,e.clientY]}}function ht(e){if(ct&&e){var t=B(e.parentElement).documentId,n=e.getAttribute("data-pdf-annotate-id");_n.getStoreAdapter().deleteAnnotation(t,n).then((function(){st(document.querySelectorAll('[data-pdf-annotate-id="'.concat(n,'"]'))).forEach((function(e){e.parentNode.removeChild(e)}))}))}}var vt,yt=!1;function gt(e){!vt&&M(e.clientX,e.clientY)&&((vt=document.createElement("input")).setAttribute("id","pdf-annotate-point-input"),vt.setAttribute("placeholder","Enter comment"),vt.style.border="3px solid ".concat("#4B5DDF"),vt.style.borderRadius="3px",vt.style.position="absolute",vt.style.top="".concat(e.clientY,"px"),vt.style.left="".concat(e.clientX,"px"),vt.addEventListener("blur",bt),vt.addEventListener("keyup",wt),document.body.appendChild(vt),vt.focus())}function bt(){_t()}function wt(e){27===e.keyCode?xt():13===e.keyCode&&_t()}function _t(){if(vt.value.trim().length>0){var e=parseInt(vt.style.left,10),t=parseInt(vt.style.top,10),n=vt.value.trim(),r=M(e,t);if(!r)return;var o=r.getBoundingClientRect(),i=B(r),a=i.documentId,l=i.pageNumber,s=Object.assign({type:"point"},q(r,{x:e-o.left,y:t-o.top}));_n.getStoreAdapter().addAnnotation(a,l,s).then((function(e){_n.getStoreAdapter().addComment(a,e.uuid,n),j(r,e)}))}xt()}function xt(){vt.removeEventListener("blur",bt),vt.removeEventListener("keyup",wt),document.body.removeChild(vt),vt=null}function kt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St,Ct,At,jt,Lt=!1;function Ft(e){var t;if("area"===St&&(t=M(e.clientX,e.clientY))){var n=t.getBoundingClientRect();At=e.clientY,jt=e.clientX,(Ct=document.createElement("div")).style.position="absolute",Ct.style.top="".concat(At-n.top,"px"),Ct.style.left="".concat(jt-n.left,"px"),Ct.style.border="3px solid ".concat("#4B5DDF"),Ct.style.borderRadius="13px",t.parentNode.appendChild(Ct),document.addEventListener("mousemove",It),D()}}function It(e){var t=Ct.parentNode.querySelector(ke.annotationSvgQuery()).getBoundingClientRect();jt+(e.clientX-jt)<t.right&&(Ct.style.width="".concat(e.clientX-jt,"px")),At+(e.clientY-At)<t.bottom&&(Ct.style.height="".concat(e.clientY-At,"px"))}function Mt(e){var t;if("area"!==St&&(t=function(){try{var e=window.getSelection().getRangeAt(0).getClientRects();if(e.length>0&&e[0].width>0&&e[0].height>0)return e}catch(e){}return null}()))Ot(St,kt(t).map((function(e){return{top:e.top,left:e.left,width:e.width,height:e.height}})));else if("area"===St&&Ct){var n=Ct.parentNode.querySelector(ke.annotationSvgQuery()).getBoundingClientRect();Ot(St,[{top:parseInt(Ct.style.top,10)+n.top,left:parseInt(Ct.style.left,10)+n.left,width:parseInt(Ct.style.width,10),height:parseInt(Ct.style.height,10)}]),Ct.parentNode.removeChild(Ct),Ct=null,document.removeEventListener("mousemove",It),U()}}function Tt(e){27===e.keyCode&&(window.getSelection().removeAllRanges(),Ct&&Ct.parentNode&&(Ct.parentNode.removeChild(Ct),Ct=null,document.removeEventListener("mousemove",It)))}function Ot(e,t,n){var r,o=M(t[0].left,t[0].top);if(o){var i=o.getBoundingClientRect();if(n||("highlight"===e?n="FFFF00":"strikeout"===e&&(n="FF0000")),0!==(r={type:e,color:n,rectangles:kt(t).map((function(t){var n=0;return"strikeout"===e&&(n=t.height/2),function(e,t,n){var r=[e.x,e.y],o=[e.x+e.width,e.y+e.height];return r=z(r,t,n),o=z(o,t,n),{x:Math.min(r[0],o[0]),y:Math.min(r[1],o[1]),width:Math.abs(o[0]-r[0]),height:Math.abs(o[1]-r[1])}}({y:t.top+n-i.top,x:t.left-i.left,width:t.width,height:t.height},o)})).filter((function(e){return e.width>0&&e.height>0&&e.x>-1&&e.y>-1}))}).rectangles.length){if("area"===e){var a=r.rectangles[0];delete r.rectangles,r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height,r.backgroundColor="red",r.status="creacion"}var l=B(o),s=l.documentId,u=l.pageNumber;_n.getStoreAdapter().addAnnotation(s,u,r).then((function(e){j(o,e)}))}}}var Pt,Nt=!1,zt=10,Rt="0000FF";function qt(e){var t=M(e.clientX,e.clientY);if(t){var n=t.getBoundingClientRect();!function(e,t,n,r,o){var i=z([n.x,n.y],e),a={type:t,color:o,cx:i[0],cy:i[1],r:r},l=B(e),s=l.documentId,u=l.pageNumber;_n.getStoreAdapter().addAnnotation(s,u,a).then((function(t){j(e,t)}))}(t,Pt,{x:e.clientX-n.left,y:e.clientY-n.top},zt,Rt)}}var Dt,Ut,Bt,Ht=!1;function Wt(e){!Dt&&M(e.clientX,e.clientY)&&e.srcElement.classList.contains("annotationLayer")&&((Dt=document.createElement("input")).setAttribute("id","pdf-annotate-text-input"),Dt.setAttribute("placeholder","Enter text"),Dt.style.border="3px solid ".concat("#4B5DDF"),Dt.style.borderRadius="3px",Dt.style.position="absolute",Dt.style.top="".concat(e.clientY,"px"),Dt.style.left="".concat(e.clientX,"px"),Dt.style.fontSize="".concat(Ut,"px"),Dt.style.zIndex="41",Dt.addEventListener("blur",Qt),Dt.addEventListener("keyup",Yt),document.body.appendChild(Dt),Dt.focus())}function Qt(){Jt()}function Yt(e){27===e.keyCode?Xt():13===e.keyCode&&Jt()}function Jt(){var e=Dt.value?Dt.value.replace(/ +$/,""):"";if(e.length>0){var t=parseInt(Dt.style.left,10),n=parseInt(Dt.style.top,10),r=M(t,n);if(!r)return;var o=Ut,i=B(r),a=i.documentId,l=i.pageNumber,s=i.viewport,u=1/s.scale,c=r.getBoundingClientRect(),d=z([t-c.left,n-c.top+o],r,s),p={type:"textbox",size:Ut*u,color:Bt,content:e,x:d[0],y:d[1],rotation:-s.rotation};_n.getStoreAdapter().addAnnotation(a,l,p).then((function(e){j(r,e)}))}Xt()}function Xt(){Dt&&(Dt.removeEventListener("blur",Qt),Dt.removeEventListener("keyup",Yt),document.body.removeChild(Dt),Dt=null)}function Gt(e,t){var n=document.createElement("div"),r=document.createTextNode(e);return n.appendChild(r),n.setAttribute("id","pdf-annotate-screenreader-".concat(t)),n.style.position="absolute",n.style.left="-10000px",n.style.top="auto",n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",n}function Vt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e,t,n,r,o){var i=function(e,t,n){var r=document.querySelector('svg[data-pdf-annotate-page="'.concat(n,'"]')),o=r.getBoundingClientRect();return t=N(r,{y:t}).y+o.top,e=N(r,{x:e}).x+o.left,Vt(r.parentNode.querySelectorAll(ke.textClassQuery()+" [data-canvas-width]")).filter((function(n){return O(e,t,n.getBoundingClientRect())}))[0]}(t=Math.max(t+2*(o?1:-1),0),n+2,r);if(!i)return!1;t+=2*(o?-1:1);var a=document.querySelector('svg[data-pdf-annotate-page="'.concat(r,'"]')),l=q(a,{left:i.getBoundingClientRect().left}).left-a.getBoundingClientRect().left,s=i.cloneNode(!0),u=s.innerHTML.split(""),c=[];for(s.style.position="absolute",s.style.top="-10000px",s.style.left="-10000px",document.body.appendChild(s);u.length;){if(">"===u[u.length-1])for(;u.length&&(c.unshift(u.pop()),"<"!==c[0]););if(s.innerHTML=u.join(""),l+q(a,{width:s.getBoundingClientRect().width}).width<=t)break;c.unshift(u.pop())}return i.innerHTML=u.join("")+e.outerHTML+c.join(""),s.parentNode.removeChild(s),!0}function Zt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t,n,r){if(Kt(e,t,n,r,!0))return!0;var o=document.querySelector('svg[data-pdf-annotate-page="'.concat(r,'"]')),i=o.getBoundingClientRect(),a=Zt(o.parentNode.querySelectorAll(ke.textClassQuery()+" > div"));n=N(o,{y:n}).y+i.top,t=N(o,{x:t}).x+i.left;for(var l=0,s=a.length;l<s;l++){var u=a[l];if(n<=u.getBoundingClientRect().top)return u.parentNode.insertBefore(e,u),!0}var c=o.parentNode.querySelector(ke.textClassQuery());if(c&&O(t,n,c.getBoundingClientRect()))return c.appendChild(e),!0;return!1}function nn(e){if(e){var t=document.querySelector("#pdf-annotate-screenreader-".concat(e.annotation," ol"));if(t){var n=document.createElement("li");n.setAttribute("id","pdf-annotate-screenreader-comment-".concat(e.uuid)),n.appendChild(document.createTextNode("".concat(e.content))),t.appendChild(n)}}}function rn(e,t,n){return(Array.isArray(n)?Promise.resolve(n):_n.getStoreAdapter().getComments(e,t)).then((function(e){var n=document.getElementById("pdf-annotate-screenreader-".concat(t));if(n){var r=document.createElement("ol");r.setAttribute("id","pdf-annotate-screenreader-comment-list-".concat(t)),r.setAttribute("aria-label","Comments"),n.appendChild(r),e.forEach(nn)}}))}var on=["highlight","point","area","circle","emptycircle","fillcircle"];function an(e,t,n){_n.getStoreAdapter().getAnnotations(e,t).then((function(e){return e.annotations.filter((function(e){return e.type===n}))})).then((function(t){return t.forEach((function(t){ln(e,t.uuid)})),t})).then(dn)}function ln(e,t){cn("pdf-annotate-screenreader-".concat(t)),cn("pdf-annotate-screenreader-".concat(t,"-end"))}function sn(e,t,n){var r=document.querySelector("pdf-annotate-screenreader-comment-list-".concat(t));(r?Promise.resolve(!0):rn(e,t,[]).then((function(){return r=document.querySelector("pdf-annotate-screenreader-comment-list-".concat(t)),!0}))).then((function(){nn(n)}))}function un(e,t){cn("pdf-annotate-screenreader-comment-".concat(t))}function cn(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}function dn(e){e=Array.isArray(e)?e:[],Object.keys(mn).forEach((function(t){var n=mn[t];e.filter((function(e){return e.type===t})).sort(n).forEach((function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(e.type){case"highlight":case"strikeout":var n=e.rectangles,r=n[0],o=n[n.length-1];Kt(Gt("Begin ".concat(e.type," annotation ").concat(t),e.uuid),r.x,r.y,e.page,!0),Kt(Gt("End ".concat(e.type," annotation ").concat(t),"".concat(e.uuid,"-end")),o.x+o.width,o.y,e.page,!1);break;case"textbox":case"point":var i="textbox"===e.type?" (content: ".concat(e.content,")"):"";tn(Gt("".concat(e.type," annotation ").concat(t).concat(i),e.uuid),e.x,e.y,e.page);break;case"drawing":case"area":var a=void 0!==e.x?e.x:e.lines[0][0],l=void 0!==e.y?e.y:e.lines[0][1];tn(Gt("Unlabeled drawing",e.uuid),a,l,e.page);break;case"circle":case"fillcircle":case"emptycircle":var s=void 0!==e.cx?e.cx:e.lines[0][0],u=void 0!==e.cy?e.cy:e.lines[0][1];tn(Gt("Unlabeled drawing",e.uuid),s,u,e.page)}on.includes(e.type)&&rn(e.documentId,e.uuid)}(e,t+1)}))}))}function pn(e,t){return e.y<t.y?e.x-t.x:1}function fn(e,t){return pn(e.rectangles[0],t.rectangles[0])}Y("annotation:add",(function(e,t,n){an(e,t,n.type)})),Y("annotation:edit",(function(e,t,n){an(e,n.page,n.type)})),Y("annotation:delete",ln),Y("comment:add",sn),Y("comment:delete",un);var mn={highlight:fn,strikeout:fn,drawing:function(e,t){var n=e.lines[0],r=t.lines[0];return pn({x:n[0],y:n[1]},{x:r[0],y:r[1]})},textbox:pn,point:pn,area:pn};function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yn='\n  <div style="visibility: hidden;" class="page" data-loaded="false">\n    <div class="canvasWrapper">\n      <canvas></canvas>\n    </div>\n    <div class="'+ke.textLayerName+'"></div>\n    <svg class="'+ke.annotationLayerName+'"></svg>\n  </div>\n';function gn(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,o=1,i=1,a=1;;){var l=r+i,s=o+a;if(s>8)break;n<=l/s?(i=l,a=s):(r=l,o=s)}return n-r/o<i/a-n?n===e?[r,o]:[o,r]:n===e?[i,a]:[a,i]}function bn(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)}var wn={addEventListener:Y,removeEventListener:J,fireEvent:Q,disableEdit:function(){Te(),Ie&&(Ie=!1,J("annotation:click",De))},enableEdit:function(){Ie||(Ie=!0,Y("annotation:click",De))},disablePen:function(){We&&(We=!1,document.removeEventListener("pointerdown",Je),document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",Xe),document.removeEventListener("keyup",Ve),U())},enablePen:function(){We||(We=!0,document.addEventListener("pointerdown",Je),document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",Xe),document.addEventListener("keyup",Ve),D())},setPen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000000";Ue=Math.round(100*parseFloat(e))/100,Be=t},disablePoint:function(){yt&&(yt=!1,document.removeEventListener("mouseup",gt))},enablePoint:function(){yt||(yt=!0,document.addEventListener("mouseup",gt))},disableRect:function(){Lt&&(Lt=!1,document.removeEventListener("mouseup",Mt),document.removeEventListener("mousedown",Ft),document.removeEventListener("keyup",Tt))},enableRect:function(e){St=e,Lt||(Lt=!0,document.addEventListener("mouseup",Mt),document.addEventListener("mousedown",Ft),document.addEventListener("keyup",Tt))},disableCircle:function(){Nt&&(Nt=!1,document.removeEventListener("mouseup",qt))},enableCircle:function(e){Pt=e,Nt||(Nt=!0,document.addEventListener("mouseup",qt))},setCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000FF";zt=parseInt(e,10),Rt=t},addCircle:function(e,t){var n=Pt;Pt=e,qt(t),Pt=n},disableArrow:function(){rt&&(rt=!1,document.removeEventListener("mousedown",ot),document.removeEventListener("keyup",lt),U())},enableArrow:function(){rt||(rt=!0,document.addEventListener("mousedown",ot),document.addEventListener("keyup",lt),D())},setArrow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000FF";$e=parseInt(e,10),Ke=t},disableEraser:function(){document.removeEventListener("pointermove",mt),document.removeEventListener("pointerdown",pt),document.removeEventListener("pointerup",ft)},enableEraser:function(){document.addEventListener("pointermove",mt),document.addEventListener("pointerdown",pt),document.addEventListener("pointerup",ft)},disableText:function(){Ht&&(Ht=!1,document.removeEventListener("mouseup",Wt))},enableText:function(){Ht||(Ht=!0,document.addEventListener("mouseup",Wt))},setText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000000";Ut=parseInt(e,10),Bt=t},createPage:function(e){var t=document.createElement("div");t.innerHTML=yn;var n=t.children[0],r=n.querySelector("canvas");return n.setAttribute("id","pageContainer".concat(e)),n.setAttribute("data-page-number",e),r.mozOpaque=!0,r.setAttribute("id","page".concat(e)),n},renderPage:function(e,t){var n=t.documentId,r=t.pdfDocument,o=t.scale,i=t.rotate;return Promise.all([r.getPage(e),_n.getAnnotations(n,e)]).then((function(t){var n=hn(t,2),r=n[0],a=n[1],l=document.getElementById("pageContainer".concat(e)),s=l.querySelector(ke.annotationClassQuery()),u=l.querySelector(".canvasWrapper canvas").getContext("2d",{alpha:!1}),c=(i+r.rotate)%360,d=r.getViewport({scale:o,rotation:c}),p=function(e,t,n){var r=document.getElementById("pageContainer".concat(e)),o=r.querySelector(".canvasWrapper canvas"),i=r.querySelector(ke.annotationClassQuery()),a=r.querySelector(".canvasWrapper"),l=r.querySelector(ke.textClassQuery()),s=(p=n,f=window.devicePixelRatio||1,m=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,h=f/m,{sx:h,sy:h,scaled:1!==h}),u=s.scaled?[s.sx,0,0,s.sy,0,0]:null,c=gn(s.sx),d=gn(s.sy);var p,f,m,h;return r.style.visibility="",o.width=bn(t.width*s.sx,c[0]),o.height=bn(t.height*s.sy,d[0]),o.style.width=bn(t.width,c[1])+"px",o.style.height=bn(t.height,c[1])+"px",i.setAttribute("width",t.width),i.setAttribute("height",t.height),i.style.width="".concat(t.width,"px"),i.style.height="".concat(t.height,"px"),r.style.width="".concat(t.width,"px"),r.style.height="".concat(t.height,"px"),a.style.width="".concat(t.width,"px"),a.style.height="".concat(t.height,"px"),l.style.width="".concat(t.width,"px"),l.style.height="".concat(t.height,"px"),u}(e,d,u);return Promise.all([r.render({canvasContext:u,viewport:d,transform:p}).promise,_n.render(s,d,a)]).then((function(){return r.getTextContent({normalizeWhitespace:!0}).then((function(t){return new Promise((function(n,r){var o=l.querySelector(ke.textClassQuery()),i=(new pdfjsViewer.DefaultTextLayerFactory).createTextLayerBuilder(o,e-1,d);i.setTextContent(t),i.render(),setTimeout((function(){try{dn(a.annotations),n()}catch(e){r(e)}}))}))}))})).then((function(){return l.setAttribute("data-loaded","true"),[r,a]}))}))}},_n={findAnnotationAtPoint:T,findSVGContainer:I,convertToScreenPoint:R,StoreAdapter:V,LocalStoreAdapter:ie,LocalUserStoreAdapter:ge,__storeAdapter:new V,getStoreAdapter:function(){return this.__storeAdapter},setStoreAdapter:function(e){this.__storeAdapter=e},UI:wn,render:function(e,t,n){return new Promise((function(r,o){return e.setAttribute("data-pdf-annotate-container",!0),e.setAttribute("data-pdf-annotate-viewport",JSON.stringify(t)),e.removeAttribute("data-pdf-annotate-document"),e.removeAttribute("data-pdf-annotate-page"),n?(e.setAttribute("data-pdf-annotate-document",n.documentId),e.setAttribute("data-pdf-annotate-page",n.pageNumber),Array.isArray(n.annotations)&&0!==n.annotations.length?(n.annotations.forEach((function(n){var r=e.querySelector('[data-pdf-annotate-id="'+n.uuid+'"]');r?L(e,r,t):j(e,n,t)})),void r(e)):r(e)):(e.innerHTML="",r(e))}))},getAnnotations:function(e,t){var n;return(n=this.getStoreAdapter()).getAnnotations.apply(n,arguments)},config:ke,uuid:Z},xn=_n;n(2);var kn=n(1),En=n.n(kn);function Sn(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Sn(i,r,o,a,l,"next",e)}function l(e){Sn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var In,Mn=xn.UI,Tn=Fn("file"),On=Fn("datos");if(console.log(Tn),console.log(Fn("datos")),null!==Tn){var Pn="uploads/"+Tn;if(null!==On){JSON.parse(On);localStorage.removeItem("".concat(Pn,"/annotations")),localStorage.setItem("".concat(Pn,"/annotations"),On)}}else Pn="uploads/user1_aa.pdf";var Nn={documentId:Pn,pdfDocument:null,scale:parseFloat(localStorage.getItem("".concat(Pn,"/scale")),10)||1.33,rotate:parseInt(localStorage.getItem("".concat(Pn,"/rotate")),10)||0};xn.setStoreAdapter(new xn.LocalStoreAdapter),pdfjsLib.workerSrc="./shared/pdf.worker.js";var zn=document.getElementById("myModal1"),Rn=document.getElementById("myModal");En.a.options.uploadWidget={maxFilesize:2,maxFiles:1,dictDefaultMessage:"arrastre su archivo aca o click para selecionarlo",acceptedFiles:"application/pdf",init:function(){this.on("success",(function(e,t){console.log(e),console.log(t)})),this.on("complete",(function(e){this.removeFile(e),zn.style.display="none",Nn.documentId="uploads/user1_aa.pdf",Bn();for(var t=0;t<qn;t++)document.querySelector("div#pageContainer".concat(t+1," svg.annotationLayer")).innerHTML="";localStorage.removeItem("".concat(Nn.documentId,"/annotations"))}))}};var qn=0,Dn=[],Un=!1;function Bn(){pdfjsLib.getDocument({url:Nn.documentId,cMapUrl:"shared/cmaps/",cMapPacked:!0}).promise.then((function(e){Nn.pdfDocument=e;var t=document.getElementById("viewer");t.innerHTML="",qn=e.numPages;for(var n=0;n<qn;n++){var r=Mn.createPage(n+1);t.appendChild(r)}Mn.renderPage(1,Nn).then((function(e){var t=An(e,2),n=t[0],r=(t[1],n.getViewport({scale:Nn.scale,rotation:Nn.rotate}));In=r.height}))}))}document.getElementById("content-wrapper").addEventListener("scroll",(function(e){var t=Math.round(e.target.scrollTop/In)+1,n=document.querySelector('.page[data-page-number="'.concat(t,'"][data-loaded="false"]'));-1===Dn.indexOf(t)?(Un=!0,Dn.push(t)):Un=!1,n&&Un&&setTimeout((function(){Mn.renderPage(t,Nn)}))})),Bn(),function(){var e=localStorage.getItem("".concat(Nn.documentId,"/tooltype"))||"cursor";function t(t,n){var r=document.querySelector(".toolbar button.active");if(r)switch(r.classList.remove("active"),e){case"cursor":Mn.disableEdit();break;case"eraser":Mn.disableEraser();break;case"draw":Mn.disablePen();break;case"arrow":Mn.disableArrow();break;case"text":Mn.disableText();break;case"point":Mn.disablePoint();break;case"area":case"highlight":case"strikeout":Mn.disableRect();break;case"circle":case"emptycircle":case"fillcircle":Mn.disableCircle()}switch(n&&n.classList.add("active"),e!==t&&localStorage.setItem("".concat(Nn.documentId,"/tooltype"),t),e=t,t){case"cursor":Mn.enableEdit();break;case"eraser":Mn.enableEraser();break;case"draw":Mn.enablePen();break;case"arrow":Mn.enableArrow();break;case"text":Mn.enableText();break;case"point":Mn.enablePoint();break;case"area":case"highlight":case"strikeout":Mn.enableRect(t);break;case"circle":case"emptycircle":case"fillcircle":Mn.enableCircle(t)}}e&&t(e,document.querySelector(".toolbar button[data-tooltype=".concat(e,"]"))),document.querySelector(".toolbar").addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&t(e.target.getAttribute("data-tooltype"),e.target)}))}(),function(){function e(e,t){e=parseFloat(e,10),t=parseInt(t,10),Nn.scale===e&&Nn.rotate===t||(Nn.scale=e,Nn.rotate=t,localStorage.setItem("".concat(Nn.documentId,"/scale"),Nn.scale),localStorage.setItem("".concat(Nn.documentId,"/rotate"),Nn.rotate%360),Bn())}document.querySelector(".toolbar select.scale").value=Nn.scale,document.querySelector(".toolbar select.scale").addEventListener("change",(function(t){e(t.target.value,Nn.rotate)}))}(),document.querySelector("a.clear").addEventListener("click",(function(e){if(confirm("Are you sure you want to clear annotations?")){for(var t=0;t<qn;t++)document.querySelector("div#pageContainer".concat(t+1," svg.annotationLayer")).innerHTML="";localStorage.removeItem("".concat(Nn.documentId,"/annotations"))}})),document.querySelector("a.subir").addEventListener("click",(function(e){zn.style.display="block"})),document.querySelector("a.crear").addEventListener("click",(function(e){Rn.style.display="block"})),function(e,t){var n=t.querySelector("#comment-wrapper .comment-list-container"),r=t.querySelector("#comment-wrapper .comment-list-form"),o=(r.querySelector('input[type="text"]'),t.querySelector("[id='Modal_form']")),i=t.querySelector("[id='formsalvar']"),a=t.getElementsByClassName("close2")[0],l=t.getElementsByClassName("close1")[0],s=t.getElementsByClassName("close_f")[0];function u(e){var t=e.getAttribute("data-pdf-annotate-type");return["point","highlight","area"].indexOf(t)>-1}function c(e){var r=t.createElement("div");r.className="comment-list-item",n.appendChild(r)}function d(e){return"Annotation"==e.class}function p(e){return"Comment"==e.class}a.onclick=function(){Rn.style.display="none"},l.onclick=function(){zn.style.display="none"},s.onclick=function(){o.style.display="none"},i.onsubmit=function(n){console.log("salvar"),n.preventDefault();"".concat(Nn.documentId,"/annotations");var r,o=JSON.parse(localStorage.getItem("uploads/user1_aa.pdf/annotations")),a=o.filter(d),l=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=jn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(a);try{for(l.s();!(r=l.n()).done;)s(r.value)}catch(e){l.e(e)}finally{l.f()}function s(e){return u.apply(this,arguments)}function u(){return(u=Cn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.status="pendiente";case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=o.filter(p),f=t.querySelector("[id='content-wrapper']");console.log(f.innerHTML);var m={nombre:i.elements[0].value,descripcion:i.elements[1].value,otro:i.elements[2].value,url:Nn.documentId,feha_creacion:new Date,rect:a,firmantes:c,status:"sin iniciar",num_firmantes:c.length,num_firmados:0,html:f.innerHTML},h={html:f.innerHTML};fetch(e.location.href+"firma_doc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){return console.log("response =",e),Rn.style.display="none",e.json()})).then((function(e){console.log("data = ",e)})).catch((function(e){console.error(e),localStorage.setItem("aa",e)})),fetch(e.location.href+"firmantes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then((function(e){return console.log("response =",e),""})).then((function(e){console.log("data = ",e)})).catch((function(e){console.error(e),localStorage.setItem("aa",e)}))},Mn.addEventListener("annotation:click",(function(n){if(u(n)){console.log("qqqqqqqqqq");var r=n.parentNode.getAttribute("data-pdf-annotate-document"),i=n.getAttribute("data-pdf-annotate-id");xn.getStoreAdapter().getComments(r,i).then((function(n){if(o.style.display="inline",void 0!==n[0]){console.log(e.location.hostname),console.log(e.location.port),console.log(e.location.protocol),console.log(e.location.href),console.log(n[0]);var a=t.getElementById("myForm");a.elements[0].value=n[0].content.cedula,a.elements[1].value=n[0].content.nombres,a.elements[2].value=n[0].content.apellidos,a.elements[3].value=n[0].content.celular,a.elements[4].value=n[0].content.email}o.onsubmit=function(){var e=t.getElementById("myForm"),n={cedula:e.elements[0].value,nombres:e.elements[1].value,apellidos:e.elements[2].value,celular:e.elements[3].value,email:e.elements[4].value,status:"pendiente"};return xn.getStoreAdapter().addComment(r,i,n).then(c).then((function(){o.style.display="none"})),!1},n.forEach(c)}))}})),Mn.addEventListener("annotation:blur",(function(e){console.log("qqq"),console.log(e),u(e)?(n.innerHTML="",r.style.display="none",r.onsubmit=null,c()):console.log("wwwww")})),Mn.setArrow(10,"darkgoldenrod"),Mn.setCircle(10,"darkgoldenrod")}(window,document)}])}));